"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/nutrilens",{

/***/ "(pages-dir-browser)/./src/features/NutriLens/NutriLensPage.tsx":
/*!**************************************************!*\
  !*** ./src/features/NutriLens/NutriLensPage.tsx ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(pages-dir-browser)/./node_modules/.pnpm/react@19.1.0/node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(pages-dir-browser)/./node_modules/.pnpm/react@19.1.0/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Barcode,Camera,CameraOff,ChevronDown,RefreshCcw,Upload!=!lucide-react */ \"(pages-dir-browser)/__barrel_optimize__?names=Barcode,Camera,CameraOff,ChevronDown,RefreshCcw,Upload!=!./node_modules/.pnpm/lucide-react@0.525.0_react@19.1.0/node_modules/lucide-react/dist/esm/lucide-react.js\");\n/* harmony import */ var _ScanResults__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScanResults */ \"(pages-dir-browser)/./src/features/NutriLens/ScanResults.tsx\");\n/* harmony import */ var _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/barcodeScanner */ \"(pages-dir-browser)/./src/utils/barcodeScanner.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n// Import custom barcode scanner\n\n// Helper function to detect browser\nconst detectBrowser = ()=>{\n    const ua = navigator.userAgent;\n    let browser = {\n        name: 'Unknown',\n        version: 'Unknown',\n        mobile: false,\n        os: 'Unknown'\n    };\n    // Detect mobile\n    browser.mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ua);\n    // Detect OS\n    if (/Win/.test(ua)) browser.os = 'Windows';\n    else if (/Mac/.test(ua)) browser.os = 'MacOS';\n    else if (/Linux/.test(ua)) browser.os = 'Linux';\n    else if (/Android/.test(ua)) browser.os = 'Android';\n    else if (/iOS|iPhone|iPad|iPod/.test(ua)) browser.os = 'iOS';\n    // Detect browser\n    if (/Firefox\\/([0-9.]+)/.test(ua)) {\n        var _ua_match;\n        browser.name = 'Firefox';\n        browser.version = ((_ua_match = ua.match(/Firefox\\/([0-9.]+)/)) === null || _ua_match === void 0 ? void 0 : _ua_match[1]) || '';\n    } else if (/MSIE\\/([0-9.]+)/.test(ua) || /Trident\\/.*rv:([0-9.]+)/.test(ua)) {\n        var _ua_match1, _ua_match2;\n        browser.name = 'IE';\n        browser.version = ((_ua_match1 = ua.match(/MSIE\\/([0-9.]+)/)) === null || _ua_match1 === void 0 ? void 0 : _ua_match1[1]) || ((_ua_match2 = ua.match(/Trident\\/.*rv:([0-9.]+)/)) === null || _ua_match2 === void 0 ? void 0 : _ua_match2[1]) || '';\n    } else if (/Chrome\\/([0-9.]+)/.test(ua)) {\n        var _ua_match3;\n        browser.name = 'Chrome';\n        browser.version = ((_ua_match3 = ua.match(/Chrome\\/([0-9.]+)/)) === null || _ua_match3 === void 0 ? void 0 : _ua_match3[1]) || '';\n    } else if (/Safari\\/([0-9.]+)/.test(ua)) {\n        var _ua_match4;\n        browser.name = 'Safari';\n        browser.version = ((_ua_match4 = ua.match(/Version\\/([0-9.]+)/)) === null || _ua_match4 === void 0 ? void 0 : _ua_match4[1]) || '';\n    } else if (/Edge\\/([0-9.]+)/.test(ua)) {\n        var _ua_match5;\n        browser.name = 'Edge';\n        browser.version = ((_ua_match5 = ua.match(/Edge\\/([0-9.]+)/)) === null || _ua_match5 === void 0 ? void 0 : _ua_match5[1]) || '';\n    }\n    return browser;\n};\nconst NutriLensPage = ()=>{\n    var _navigator_mediaDevices, _navigator_mediaDevices1;\n    _s();\n    const [nutritionData, setNutritionData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [capturedImageUrl, setCapturedImageUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(undefined);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [cameraDevices, setCameraDevices] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCamera, setSelectedCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('');\n    const [detectedFoods, setDetectedFoods] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [scanSource, setScanSource] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('AI Vision');\n    const [barcodeScannerActive, setBarcodeScannerActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Barcode scanner initially off\n    const [lastBarcode, setLastBarcode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCameraReady, setIsCameraReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // New debug state for troubleshooting\n    const [debugMode, setDebugMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true); // Enable debug by default in production\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        browserInfo: detectBrowser(),\n        secureContext:  true && window.isSecureContext,\n        hasMediaDevices: typeof navigator !== 'undefined' && !!navigator.mediaDevices,\n        hasEnumerateDevices: typeof navigator !== 'undefined' && !!((_navigator_mediaDevices = navigator.mediaDevices) === null || _navigator_mediaDevices === void 0 ? void 0 : _navigator_mediaDevices.enumerateDevices),\n        hasGetUserMedia: typeof navigator !== 'undefined' && !!((_navigator_mediaDevices1 = navigator.mediaDevices) === null || _navigator_mediaDevices1 === void 0 ? void 0 : _navigator_mediaDevices1.getUserMedia),\n        https:  true && window.location.protocol === 'https:',\n        errorLog: []\n    });\n    // Camera status\n    const [cameraStatus, setCameraStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)('pending');\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const streamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const barcodeReaderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Using any to avoid TypeScript errors with ZXing\n    const barcodeScannerIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Logger function that both logs to console and updates debug state\n    const logDebug = (message, data)=>{\n        console.log(\"[NutriLens] \".concat(message), data || '');\n        if (debugMode) {\n            setDebugInfo((prev)=>({\n                    ...prev,\n                    errorLog: [\n                        ...prev.errorLog.slice(-9),\n                        \"\".concat(new Date().toISOString().slice(11, 19), \" \").concat(message)\n                    ]\n                }));\n        }\n    };\n    // Error handler for camera issues\n    const handleCameraError = (error, context)=>{\n        console.error(\"Camera error (\".concat(context, \"):\"), error);\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        setError(\"Camera access failed: \".concat(errorMessage, \". Please ensure camera permissions are granted in your browser settings.\"));\n        setCameraStatus('error');\n        // Update debug info\n        setDebugInfo((prev)=>({\n                ...prev,\n                errorLog: [\n                    ...prev.errorLog.slice(-9),\n                    \"\".concat(new Date().toISOString().slice(11, 19), \" ERROR (\").concat(context, \"): \").concat(errorMessage)\n                ]\n            }));\n    };\n    // Function to check if camera API is supported\n    const checkCameraSupport = ()=>{\n        if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n            setError('Camera access is not supported in this browser. Please try a modern browser like Chrome, Firefox, or Edge.');\n            setCameraStatus('not-supported');\n            return false;\n        }\n        return true;\n    };\n    // Function to stop any active stream\n    const stopCameraStream = ()=>{\n        if (streamRef.current) {\n            streamRef.current.getTracks().forEach((track)=>{\n                track.stop();\n            });\n            streamRef.current = null;\n            // Clear video source\n            if (videoRef.current) {\n                videoRef.current.srcObject = null;\n            }\n            logDebug('Camera stream stopped');\n        }\n    };\n    // Get available camera devices with enhanced error handling and logging\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NutriLensPage.useEffect\": ()=>{\n            const getCameras = {\n                \"NutriLensPage.useEffect.getCameras\": async ()=>{\n                    try {\n                        logDebug('Starting camera detection process');\n                        setDebugInfo({\n                            \"NutriLensPage.useEffect.getCameras\": (prev)=>({\n                                    ...prev,\n                                    cameraPermission: 'checking'\n                                })\n                        }[\"NutriLensPage.useEffect.getCameras\"]);\n                        // First check if we have the required APIs\n                        if (!checkCameraSupport()) {\n                            logDebug('Camera API not supported');\n                            return;\n                        }\n                        setCameraStatus('initializing');\n                        // Check if we're in a secure context\n                        if (window.isSecureContext === false) {\n                            logDebug('WARNING: Not in a secure context - camera may not work');\n                        }\n                        // Check if protocol is HTTPS\n                        if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n                            logDebug(\"WARNING: Not using HTTPS (\".concat(window.location.protocol, \") - camera requires HTTPS except on localhost\"));\n                        }\n                        // Explicitly request camera permission first if permissions API is available\n                        try {\n                            if (navigator.permissions && navigator.permissions.query) {\n                                logDebug('Checking camera permissions...');\n                                const permissionStatus = await navigator.permissions.query({\n                                    name: 'camera'\n                                });\n                                logDebug(\"Permission status: \".concat(permissionStatus.state));\n                                setDebugInfo({\n                                    \"NutriLensPage.useEffect.getCameras\": (prev)=>({\n                                            ...prev,\n                                            cameraPermission: permissionStatus.state\n                                        })\n                                }[\"NutriLensPage.useEffect.getCameras\"]);\n                                // Watch for permission changes\n                                permissionStatus.onchange = ({\n                                    \"NutriLensPage.useEffect.getCameras\": ()=>{\n                                        logDebug(\"Permission changed to: \".concat(permissionStatus.state));\n                                        setDebugInfo({\n                                            \"NutriLensPage.useEffect.getCameras\": (prev)=>({\n                                                    ...prev,\n                                                    cameraPermission: permissionStatus.state\n                                                })\n                                        }[\"NutriLensPage.useEffect.getCameras\"]);\n                                        if (permissionStatus.state === 'granted' && cameraStatus === 'error') {\n                                            // If permission was granted after previously being denied, retry\n                                            logDebug('Permission now granted, restarting camera');\n                                            startCamera();\n                                        } else if (permissionStatus.state === 'denied' && streamRef.current) {\n                                            // If permission was revoked while camera was running, stop it\n                                            logDebug('Permission revoked, stopping camera');\n                                            stopCameraStream();\n                                            setCameraStatus('error');\n                                            setError('Camera permission has been denied. Please enable it in your browser settings.');\n                                        }\n                                    }\n                                })[\"NutriLensPage.useEffect.getCameras\"];\n                                if (permissionStatus.state === 'denied') {\n                                    throw new Error('Camera permission has been denied. Please enable it in your browser settings.');\n                                } else if (permissionStatus.state === 'prompt') {\n                                    logDebug('User will be prompted for camera permission');\n                                }\n                            }\n                        } catch (permError) {\n                            logDebug('Could not check permissions explicitly', permError);\n                        // Continue anyway as some browsers don't support the permissions API fully\n                        }\n                        logDebug('Enumerating camera devices...');\n                        const devices = await navigator.mediaDevices.enumerateDevices();\n                        const cameras = devices.filter({\n                            \"NutriLensPage.useEffect.getCameras.cameras\": (device)=>device.kind === 'videoinput'\n                        }[\"NutriLensPage.useEffect.getCameras.cameras\"]);\n                        logDebug(\"Found \".concat(cameras.length, \" cameras:\"), cameras.map({\n                            \"NutriLensPage.useEffect.getCameras\": (c)=>c.label || 'unlabeled camera'\n                        }[\"NutriLensPage.useEffect.getCameras\"]));\n                        setCameraDevices(cameras);\n                        // Initial camera selection logic\n                        if (cameras.length > 0) {\n                            // Sort cameras - prefer back/environment facing cameras on mobile\n                            const sortedCameras = [\n                                ...cameras\n                            ].sort({\n                                \"NutriLensPage.useEffect.getCameras.sortedCameras\": (a, b)=>{\n                                    const labelA = (a.label || '').toLowerCase();\n                                    const labelB = (b.label || '').toLowerCase();\n                                    // Prioritize real cameras over virtual ones\n                                    const aIsVirtual = labelA.includes('obs') || labelA.includes('virtual');\n                                    const bIsVirtual = labelB.includes('obs') || labelB.includes('virtual');\n                                    if (aIsVirtual && !bIsVirtual) return 1;\n                                    if (!aIsVirtual && bIsVirtual) return -1;\n                                    // On mobile, prefer 'back', 'rear', or 'environment' cameras\n                                    const aIsBack = labelA.includes('back') || labelA.includes('rear') || labelA.includes('environment');\n                                    const bIsBack = labelB.includes('back') || labelB.includes('rear') || labelB.includes('environment');\n                                    if (aIsBack && !bIsBack) return -1;\n                                    if (!aIsBack && bIsBack) return 1;\n                                    return 0;\n                                }\n                            }[\"NutriLensPage.useEffect.getCameras.sortedCameras\"]);\n                            // Select the first camera after sorting\n                            const bestCamera = sortedCameras[0];\n                            logDebug(\"Selected camera: \".concat(bestCamera.label || 'unlabeled camera'));\n                            setSelectedCamera(bestCamera.deviceId);\n                        } else {\n                            logDebug('No cameras found');\n                            setError('No cameras detected on your device.');\n                        }\n                        // Start camera with a slight delay to allow state updates\n                        setTimeout({\n                            \"NutriLensPage.useEffect.getCameras\": ()=>{\n                                startCamera();\n                            }\n                        }[\"NutriLensPage.useEffect.getCameras\"], 500);\n                    } catch (err) {\n                        handleCameraError(err, 'getCameras');\n                    }\n                }\n            }[\"NutriLensPage.useEffect.getCameras\"];\n            getCameras();\n            return ({\n                \"NutriLensPage.useEffect\": ()=>{\n                    // Clean up camera on unmount\n                    stopCameraStream();\n                }\n            })[\"NutriLensPage.useEffect\"];\n        }\n    }[\"NutriLensPage.useEffect\"], []);\n    // Auto-start barcode scanner when camera is ready\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NutriLensPage.useEffect\": ()=>{\n            let startScannerTimeout = null;\n            if (isCameraReady && !barcodeScannerIntervalRef.current && !barcodeScannerActive) {\n                logDebug('Camera is ready, auto-starting barcode scanner');\n                // Add a delay to make sure everything is fully initialized\n                startScannerTimeout = setTimeout({\n                    \"NutriLensPage.useEffect\": ()=>{\n                        logDebug('Auto-starting barcode scanner');\n                        if (!barcodeScannerIntervalRef.current) {\n                            setBarcodeScannerActive(true);\n                            startBarcodeScanner();\n                        }\n                    }\n                }[\"NutriLensPage.useEffect\"], 2000);\n            }\n            return ({\n                \"NutriLensPage.useEffect\": ()=>{\n                    if (startScannerTimeout) {\n                        clearTimeout(startScannerTimeout);\n                    }\n                }\n            })[\"NutriLensPage.useEffect\"];\n        }\n    }[\"NutriLensPage.useEffect\"], [\n        isCameraReady,\n        barcodeScannerActive\n    ]);\n    // Initialize barcode reader\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NutriLensPage.useEffect\": ()=>{\n            // Initialize ZXing BrowserMultiFormatReader for barcode scanning\n            if (true) {\n                logDebug('Initializing barcode reader...');\n                // Dynamic import of the ZXing library\n                __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_pnpm_zxing_browser_0_1_5__zxing_library_0_21_3_node_modules_z-b306a3\").then(__webpack_require__.bind(__webpack_require__, /*! @zxing/browser */ \"(pages-dir-browser)/./node_modules/.pnpm/@zxing+browser@0.1.5_@zxing+library@0.21.3/node_modules/@zxing/browser/esm/index.js\")).then({\n                    \"NutriLensPage.useEffect\": (param)=>{\n                        let { BrowserMultiFormatReader } = param;\n                        __webpack_require__.e(/*! import() */ \"_pages-dir-browser_node_modules_pnpm_zxing_library_0_21_3_node_modules_zxing_library_esm_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! @zxing/library */ \"(pages-dir-browser)/./node_modules/.pnpm/@zxing+library@0.21.3/node_modules/@zxing/library/esm/index.js\")).then({\n                            \"NutriLensPage.useEffect\": (param)=>{\n                                let { BarcodeFormat, DecodeHintType } = param;\n                                try {\n                                    // Configure hints to optimize for common barcode formats\n                                    const hints = new Map();\n                                    hints.set(DecodeHintType.POSSIBLE_FORMATS, [\n                                        BarcodeFormat.EAN_13,\n                                        BarcodeFormat.UPC_A,\n                                        BarcodeFormat.UPC_E,\n                                        BarcodeFormat.EAN_8,\n                                        BarcodeFormat.CODE_128,\n                                        BarcodeFormat.CODE_39,\n                                        BarcodeFormat.QR_CODE // Add QR code support\n                                    ]);\n                                    hints.set(DecodeHintType.TRY_HARDER, true);\n                                    hints.set(DecodeHintType.PURE_BARCODE, false); // Allow imperfect barcodes\n                                    // Create reader with optimized settings\n                                    const reader = new BrowserMultiFormatReader(hints, {\n                                        delayBetweenScanAttempts: 10,\n                                        delayBetweenScanSuccess: 500 // Shorter delay after successful scan\n                                    });\n                                    barcodeReaderRef.current = reader;\n                                    logDebug('Barcode reader initialized successfully with enhanced configuration');\n                                } catch (err) {\n                                    logDebug('Failed to initialize barcode reader', err);\n                                }\n                            }\n                        }[\"NutriLensPage.useEffect\"]).catch({\n                            \"NutriLensPage.useEffect\": (err)=>logDebug('Failed to import ZXing library', err)\n                        }[\"NutriLensPage.useEffect\"]);\n                    }\n                }[\"NutriLensPage.useEffect\"]).catch({\n                    \"NutriLensPage.useEffect\": (err)=>logDebug('Failed to import ZXing browser', err)\n                }[\"NutriLensPage.useEffect\"]);\n            }\n            // Clean up ZXing reader on unmount\n            return ({\n                \"NutriLensPage.useEffect\": ()=>{\n                    if (barcodeReaderRef.current) {\n                        try {\n                            barcodeReaderRef.current.reset();\n                            logDebug('Barcode reader reset');\n                        } catch (err) {\n                            logDebug('Error resetting barcode reader', err);\n                        }\n                    }\n                    if (barcodeScannerIntervalRef.current) {\n                        clearInterval(barcodeScannerIntervalRef.current);\n                        barcodeScannerIntervalRef.current = null;\n                        logDebug('Barcode scanner interval cleared');\n                    }\n                    stopCameraStream();\n                }\n            })[\"NutriLensPage.useEffect\"];\n        }\n    }[\"NutriLensPage.useEffect\"], []);\n    // Comprehensive camera initialization function\n    const startCamera = async ()=>{\n        // If already streaming, stop it first\n        stopCameraStream();\n        try {\n            // Clear any previous errors and update status\n            setError(null);\n            setCameraStatus('initializing');\n            logDebug('Starting camera initialization process');\n            // Double check API support\n            if (!checkCameraSupport()) {\n                return;\n            }\n            // Safari/iOS specific fixes\n            const browser = detectBrowser();\n            const isiOS = browser.os === 'iOS';\n            const isSafari = browser.name === 'Safari';\n            // Get appropriate constraints based on device/browser\n            const createConstraints = function(deviceId) {\n                let quality = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'high';\n                const constraints = {\n                    audio: false,\n                    video: {}\n                };\n                const videoConstraints = {};\n                // Set device ID if provided\n                if (deviceId) {\n                    videoConstraints.deviceId = {\n                        exact: deviceId\n                    };\n                }\n                // Set facingMode to 'environment' for mobile devices as fallback\n                if (!deviceId && browser.mobile) {\n                    videoConstraints.facingMode = {\n                        ideal: 'environment'\n                    };\n                }\n                // Set resolution based on quality\n                switch(quality){\n                    case 'high':\n                        videoConstraints.width = {\n                            ideal: 1280\n                        };\n                        videoConstraints.height = {\n                            ideal: 720\n                        };\n                        break;\n                    case 'medium':\n                        videoConstraints.width = {\n                            ideal: 640\n                        };\n                        videoConstraints.height = {\n                            ideal: 480\n                        };\n                        break;\n                    case 'low':\n                        videoConstraints.width = {\n                            ideal: 320\n                        };\n                        videoConstraints.height = {\n                            ideal: 240\n                        };\n                        break;\n                    case 'minimal':\n                        break;\n                }\n                constraints.video = videoConstraints;\n                return constraints;\n            };\n            // Progressive fallback strategy\n            const tryGetStream = async ()=>{\n                const attempts = [\n                    // 1. Try with selected camera at high quality\n                    {\n                        desc: 'selected camera (high quality)',\n                        fn: async ()=>{\n                            if (!selectedCamera) throw new Error('No camera selected');\n                            return navigator.mediaDevices.getUserMedia(createConstraints(selectedCamera, 'high'));\n                        }\n                    },\n                    // 2. Try with selected camera at medium quality\n                    {\n                        desc: 'selected camera (medium quality)',\n                        fn: async ()=>{\n                            if (!selectedCamera) throw new Error('No camera selected');\n                            return navigator.mediaDevices.getUserMedia(createConstraints(selectedCamera, 'medium'));\n                        }\n                    },\n                    // 3. Try with environment facing camera\n                    {\n                        desc: 'environment facing camera',\n                        fn: async ()=>{\n                            return navigator.mediaDevices.getUserMedia({\n                                video: {\n                                    facingMode: 'environment'\n                                },\n                                audio: false\n                            });\n                        }\n                    },\n                    // 4. Try with any camera\n                    {\n                        desc: 'any camera',\n                        fn: async ()=>{\n                            return navigator.mediaDevices.getUserMedia({\n                                video: true,\n                                audio: false\n                            });\n                        }\n                    },\n                    // 5. Safari/iOS specific attempt\n                    {\n                        desc: 'iOS/Safari specific',\n                        fn: async ()=>{\n                            // Special handling for Safari and iOS\n                            if (isiOS || isSafari) {\n                                return navigator.mediaDevices.getUserMedia({\n                                    video: {\n                                        facingMode: 'environment',\n                                        width: {\n                                            ideal: 320\n                                        },\n                                        height: {\n                                            ideal: 240\n                                        }\n                                    },\n                                    audio: false\n                                });\n                            }\n                            throw new Error('Not Safari/iOS');\n                        }\n                    },\n                    // 6. Last resort - minimal constraints\n                    {\n                        desc: 'minimal constraints',\n                        fn: async ()=>{\n                            return navigator.mediaDevices.getUserMedia({\n                                video: {},\n                                audio: false\n                            });\n                        }\n                    }\n                ];\n                // Try each method in sequence until one works\n                for (const attempt of attempts){\n                    try {\n                        logDebug(\"Trying camera with \".concat(attempt.desc));\n                        const stream = await attempt.fn();\n                        logDebug(\"Successfully got camera stream with \".concat(attempt.desc));\n                        return stream;\n                    } catch (err) {\n                        logDebug(\"Failed with \".concat(attempt.desc, \":\"), err);\n                    // Continue to next attempt\n                    }\n                }\n                // If we get here, all attempts failed\n                throw new Error('All camera initialization attempts failed');\n            };\n            // Start the camera with our progressive strategy\n            const stream = await tryGetStream();\n            // Handle the successful stream\n            if (videoRef.current) {\n                videoRef.current.srcObject = stream;\n                streamRef.current = stream;\n                // Safari/iOS sometimes needs a specific playsinline attribute\n                videoRef.current.setAttribute('playsinline', 'true');\n                videoRef.current.setAttribute('webkit-playsinline', 'true');\n                // Set up event handlers for video element\n                videoRef.current.onloadedmetadata = ()=>{\n                    logDebug('Video metadata loaded');\n                    if (videoRef.current) {\n                        videoRef.current.play().then(()=>{\n                            logDebug('Camera video playback started');\n                            setCameraStatus('active');\n                            setIsCameraReady(true);\n                            // Get video track info for debugging\n                            const videoTracks = stream.getVideoTracks();\n                            if (videoTracks.length > 0) {\n                                const settings = videoTracks[0].getSettings();\n                                logDebug('Video track settings:', settings);\n                            }\n                        }).catch((e)=>{\n                            handleCameraError(e, 'video.play');\n                        });\n                    }\n                };\n                videoRef.current.onerror = (e)=>{\n                    handleCameraError(e, 'video.error');\n                };\n            } else {\n                throw new Error('Video element not available');\n            }\n        } catch (err) {\n            handleCameraError(err, 'startCamera');\n        }\n    };\n    // Track when camera is ready to use\n    // Effect for camera setup and cleanup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NutriLensPage.useEffect\": ()=>{\n            // Initialization logic\n            if (selectedCamera) {\n                startCamera();\n            }\n            // Cleanup function\n            return ({\n                \"NutriLensPage.useEffect\": ()=>{\n                    // Clean up barcode scanner\n                    if (barcodeScannerIntervalRef.current) {\n                        clearInterval(barcodeScannerIntervalRef.current);\n                        barcodeScannerIntervalRef.current = null;\n                    }\n                    // Clean up camera stream\n                    if (streamRef.current) {\n                        const tracks = streamRef.current.getTracks();\n                        tracks.forEach({\n                            \"NutriLensPage.useEffect\": (track)=>{\n                                console.log('Camera track stopped');\n                                track.stop();\n                            }\n                        }[\"NutriLensPage.useEffect\"]);\n                        streamRef.current = null;\n                    }\n                    // Clean up barcode reader\n                    if (barcodeReaderRef.current) {\n                        try {\n                            barcodeReaderRef.current.reset();\n                        } catch (err) {\n                            console.warn('Error resetting barcode reader:', err);\n                        }\n                    }\n                }\n            })[\"NutriLensPage.useEffect\"];\n        }\n    }[\"NutriLensPage.useEffect\"], [\n        selectedCamera\n    ]);\n    // Initialize custom barcode scanner\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"NutriLensPage.useEffect\": ()=>{\n            console.log('Custom barcode scanner initialized');\n            console.log('Native barcode support:', _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__.barcodeScanner.isNativeSupported());\n            console.log('Supported formats:', _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__.barcodeScanner.getSupportedFormats());\n            // No cleanup needed as our scanner is stateless\n            return ({\n                \"NutriLensPage.useEffect\": ()=>{\n                    console.log('Barcode scanner cleanup');\n                }\n            })[\"NutriLensPage.useEffect\"];\n        }\n    }[\"NutriLensPage.useEffect\"], []);\n    // Custom barcode scanner with improved reliability\n    const startBarcodeScanner = ()=>{\n        // Prevent multiple scanner instances\n        if (barcodeScannerIntervalRef.current) {\n            console.log('Barcode scanner already running, not starting again');\n            return;\n        }\n        if (!videoRef.current || !streamRef.current) {\n            setError('Camera not initialized');\n            return;\n        }\n        setBarcodeScannerActive(true);\n        setError(null);\n        console.log('Starting custom barcode scanner with 100ms interval...');\n        console.log('Native barcode support:', _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__.barcodeScanner.isNativeSupported());\n        // Use our custom scanner with both video and canvas methods\n        barcodeScannerIntervalRef.current = window.setInterval(async ()=>{\n            try {\n                if (!videoRef.current || !streamRef.current || !canvasRef.current) return;\n                // Check if video is ready and playing\n                if (videoRef.current.readyState < 2 || videoRef.current.paused) return;\n                const video = videoRef.current;\n                const canvas = canvasRef.current;\n                const context = canvas.getContext('2d', {\n                    willReadFrequently: true\n                });\n                if (!context) return;\n                // Set canvas size to match video\n                canvas.width = video.videoWidth;\n                canvas.height = video.videoHeight;\n                // Draw current video frame to canvas\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\n                let barcode = null;\n                try {\n                    // Try canvas-based scanning first\n                    barcode = await _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__.barcodeScanner.scanFromCanvas(canvas);\n                    // If canvas scanning fails, try video-based scanning\n                    if (!barcode) {\n                        barcode = await _utils_barcodeScanner__WEBPACK_IMPORTED_MODULE_3__.barcodeScanner.scanFromVideo(video);\n                    }\n                } catch (scanError) {\n                    // Only log significant errors\n                    if (scanError && scanError.message && (scanError.message.includes('is not a function') || scanError.message.includes('TypeError') || scanError.message.includes('Cannot read'))) {\n                        console.error('Barcode scan error:', scanError.message);\n                    }\n                // Silently ignore expected 'not found' barcode errors\n                }\n                // Process successful barcode detection\n                if (barcode && barcode.length > 0) {\n                    console.log('✅ Barcode detected:', barcode);\n                    if (barcode !== lastBarcode) {\n                        console.log('🔍 New barcode found:', barcode);\n                        setLastBarcode(barcode);\n                        stopBarcodeScanner();\n                        await lookupBarcodeProduct(barcode);\n                    }\n                }\n            } catch (err) {\n                // Only log unexpected errors\n                console.warn('Barcode scanning error:', err);\n            }\n        }, 500); // Scan 2 times per second for better ZXing reliability\n    };\n    // Stop barcode scanner\n    const stopBarcodeScanner = ()=>{\n        if (barcodeScannerIntervalRef.current) {\n            clearInterval(barcodeScannerIntervalRef.current);\n            barcodeScannerIntervalRef.current = null;\n            console.log('Barcode scanner stopped');\n        }\n        setBarcodeScannerActive(false);\n    };\n    // Capture image from camera feed\n    const captureImage = ()=>{\n        if (!videoRef.current || !canvasRef.current) {\n            setError('Camera not initialized');\n            return;\n        }\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const context = canvas.getContext('2d');\n        if (!context) {\n            setError('Could not get canvas context');\n            return;\n        }\n        try {\n            console.log('Capturing image from camera...');\n            // Ensure video is playing and has dimensions\n            if (video.videoWidth === 0 || video.videoHeight === 0) {\n                console.error('Video has zero dimensions. Video state:', {\n                    readyState: video.readyState,\n                    videoWidth: video.videoWidth,\n                    videoHeight: video.videoHeight,\n                    paused: video.paused\n                });\n                setError('Camera stream not ready. Please wait a moment and try again.');\n                return;\n            }\n            // Set canvas dimensions to match video\n            canvas.width = video.videoWidth;\n            canvas.height = video.videoHeight;\n            console.log(\"Canvas set to \".concat(canvas.width, \"x\").concat(canvas.height));\n            // Draw current video frame to canvas\n            context.drawImage(video, 0, 0, canvas.width, canvas.height);\n            console.log('Video frame drawn to canvas');\n            // Convert canvas to blob with error handling\n            canvas.toBlob(async (blob)=>{\n                if (!blob) {\n                    console.error('Failed to create blob from canvas');\n                    setError('Failed to capture image: Could not create image data');\n                    return;\n                }\n                console.log(\"Captured image blob size: \".concat(blob.size, \" bytes\"));\n                try {\n                    // Create a File object from the blob\n                    const imageFile = new File([\n                        blob\n                    ], 'food.jpg', {\n                        type: 'image/jpeg'\n                    });\n                    // Create URL for preview image\n                    const previewUrl = URL.createObjectURL(blob);\n                    setCapturedImageUrl(previewUrl);\n                    console.log('Preview image URL created');\n                    // Analyze the image\n                    await analyzeImageFood(imageFile);\n                } catch (err) {\n                    console.error('Error processing captured image:', err);\n                    setError(\"Failed to process captured image: \".concat(err instanceof Error ? err.message : 'Unknown error'));\n                }\n            }, 'image/jpeg', 0.95 // 95% quality JPEG\n            );\n        } catch (err) {\n            console.error('Error during image capture:', err);\n            setError(\"Failed to capture image: \".concat(err instanceof Error ? err.message : 'Unknown error'));\n        }\n    };\n    // Look up product by barcode\n    const lookupBarcodeProduct = async (barcode)=>{\n        setIsLoading(true);\n        setError(null);\n        setScanSource('Barcode');\n        try {\n            console.log(\"Looking up product for barcode: \".concat(barcode));\n            // Call the barcode lookup API\n            const response = await fetch(\"/api/spoonacular/product/\".concat(barcode), {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                throw new Error(\"API error (\".concat(response.status, \"): \").concat(errorText));\n            }\n            const data = await response.json();\n            console.log('Barcode product data:', data);\n            // Handle Spoonacular API response structure directly\n            if (data && data.title) {\n                var _data_aisle;\n                // Extract nutrition values from Spoonacular product data\n                const nutrition = data.nutrition || {};\n                const nutrients = nutrition.nutrients || [];\n                // Helper function to find nutrient by name\n                const findNutrient = (name)=>{\n                    const nutrient = nutrients.find((n)=>{\n                        var _n_name;\n                        return (_n_name = n.name) === null || _n_name === void 0 ? void 0 : _n_name.toLowerCase().includes(name.toLowerCase());\n                    });\n                    return (nutrient === null || nutrient === void 0 ? void 0 : nutrient.amount) || 0;\n                };\n                // Format the nutrition data from the Spoonacular product\n                const nutritionInfo = {\n                    foodName: data.title || 'Unknown Product',\n                    healthScore: data.spoonacularScore || 50,\n                    calories: findNutrient('calories'),\n                    protein: findNutrient('protein'),\n                    carbs: findNutrient('carbohydrates'),\n                    fat: findNutrient('fat'),\n                    fiber: findNutrient('fiber'),\n                    sugar: findNutrient('sugar'),\n                    sodium: findNutrient('sodium'),\n                    healthBenefits: [\n                        'Product information from barcode scan'\n                    ],\n                    allergens: ((_data_aisle = data.aisle) === null || _data_aisle === void 0 ? void 0 : _data_aisle.split(',')) || [],\n                    recommendations: \"This product is available in the \".concat(data.aisle || 'store', \". Check nutritional values for dietary planning.\"),\n                    inflammatoryIndex: 0,\n                    glycemicLoad: 0,\n                    nutrientDensity: Math.round((data.spoonacularScore || 50) / 10),\n                    grokAnalysis: '',\n                    enhancedBy: 'Barcode Scan via Spoonacular API',\n                    detectedFoodItems: [\n                        {\n                            name: data.title || 'Unknown Product',\n                            confidence: 1.0,\n                            portion: 'serving'\n                        }\n                    ]\n                };\n                // Set nutrition data\n                setNutritionData(nutritionInfo);\n                console.log('✅ Product data processed successfully:', nutritionInfo.foodName);\n            } else {\n                throw new Error('Product not found or invalid barcode');\n            }\n        } catch (err) {\n            console.error('Error looking up barcode:', err);\n            setError(\"Failed to lookup barcode product: \".concat(err.message || 'Unknown error'));\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Function to analyze food images with real APIs only (no fallbacks)\n    const analyzeImageFood = async (imageFile)=>{\n        setIsLoading(true);\n        setError(null);\n        setScanSource('AI Vision');\n        try {\n            var _nutritionalData_nutritionalEstimate, _String_match, _nutritionalData_nutritionalEstimate1, _String_match1, _nutritionalData_nutritionalEstimate2, _String_match2, _nutritionalData_nutritionalEstimate3, _nutritionalData_nutritionalEstimate4, _nutritionalData_nutritionalEstimate5, _nutritionalData_nutritionalEstimate6;\n            console.log('Starting image analysis...');\n            // Convert file to base64\n            const base64Image = await new Promise((resolve)=>{\n                const reader = new FileReader();\n                reader.onload = ()=>{\n                    const base64String = reader.result;\n                    resolve(base64String); // Keep the complete data URL format with prefix\n                };\n                reader.readAsDataURL(imageFile);\n            });\n            console.log('Image converted to base64, sending to AI analysis endpoint');\n            // Call the AI analysis endpoint - no fallbacks, only real API\n            const response = await fetch('/api/ai-analyze-food', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    image: base64Image\n                })\n            });\n            if (!response.ok) {\n                const errorData = await response.text();\n                console.error('API analysis failed with status:', response.status);\n                throw new Error(\"API error (\".concat(response.status, \"): \").concat(errorData));\n            }\n            const result = await response.json();\n            console.log('Successfully received AI analysis result:', result);\n            if (!result.success || !result.foodItems || result.foodItems.length === 0) {\n                throw new Error('Invalid API response: missing food item data');\n            }\n            // Get the primary food (first detected item)\n            const primaryFood = result.foodItems[0];\n            // Store all detected foods\n            setDetectedFoods(result.foodItems);\n            // Extract nutritional data from the API response\n            const nutritionalData = result.nutritionalData || {};\n            // Perform detailed nutritional analysis with health focus\n            const detailedAllergens = enhanceAllergenDetection(nutritionalData.allergens || [], primaryFood.name);\n            const detailedHealthBenefits = enhanceHealthBenefits(nutritionalData);\n            const healthRecommendations = generateHealthRecommendations(nutritionalData, detailedAllergens);\n            const nutritionInfo = {\n                foodName: primaryFood.name || 'Unknown Food',\n                healthScore: calculateHealthScore(nutritionalData),\n                // Use API data only - no fallbacks to simulated data\n                calories: ((_nutritionalData_nutritionalEstimate = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate === void 0 ? void 0 : _nutritionalData_nutritionalEstimate.calories) || 0,\n                protein: Number(((_String_match = String(((_nutritionalData_nutritionalEstimate1 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate1 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate1.protein) || '0').match(/\\d+/)) === null || _String_match === void 0 ? void 0 : _String_match[0]) || 0),\n                carbs: Number(((_String_match1 = String(((_nutritionalData_nutritionalEstimate2 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate2 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate2.carbs) || '0').match(/\\d+/)) === null || _String_match1 === void 0 ? void 0 : _String_match1[0]) || 0),\n                fat: Number(((_String_match2 = String(((_nutritionalData_nutritionalEstimate3 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate3 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate3.fat) || '0').match(/\\d+/)) === null || _String_match2 === void 0 ? void 0 : _String_match2[0]) || 0),\n                fiber: Number(((_nutritionalData_nutritionalEstimate4 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate4 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate4.fiber) || 0),\n                sugar: Number(((_nutritionalData_nutritionalEstimate5 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate5 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate5.sugar) || 0),\n                sodium: Number(((_nutritionalData_nutritionalEstimate6 = nutritionalData.nutritionalEstimate) === null || _nutritionalData_nutritionalEstimate6 === void 0 ? void 0 : _nutritionalData_nutritionalEstimate6.sodium) || 0),\n                healthBenefits: detailedHealthBenefits,\n                allergens: detailedAllergens,\n                recommendations: healthRecommendations,\n                // Additional health-focused data\n                inflammatoryIndex: calculateInflammatoryIndex(nutritionalData),\n                glycemicLoad: calculateGlycemicLoad(nutritionalData),\n                nutrientDensity: calculateNutrientDensity(nutritionalData),\n                // Grok AI analysis data\n                grokAnalysis: result.detailedAnalysis || '',\n                enhancedBy: nutritionalData.enhancedBy || 'Grok & Modal APIs',\n                detectedFoodItems: result.foodItems || [\n                    primaryFood\n                ]\n            };\n            setNutritionData(nutritionInfo);\n        } catch (err) {\n            console.error('Error analyzing food:', err);\n            setError(\"Failed to analyze food: \".concat(err.message || 'Unknown error'));\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Helper functions for enhanced food analysis\n    const getCommonAllergensForFood = (foodName)=>{\n        // AI-powered allergen detection based on food characteristics\n        const foodLower = foodName.toLowerCase();\n        const allergenMap = {\n            'dairy': [\n                'milk',\n                'cheese',\n                'yogurt',\n                'cream',\n                'butter',\n                'ice cream'\n            ],\n            'gluten': [\n                'bread',\n                'pasta',\n                'wheat',\n                'cereal',\n                'cake',\n                'cookie'\n            ],\n            'nuts': [\n                'almond',\n                'pecan',\n                'walnut',\n                'cashew',\n                'pistachio',\n                'hazelnut',\n                'peanut'\n            ],\n            'shellfish': [\n                'shrimp',\n                'crab',\n                'lobster',\n                'scallop',\n                'clam',\n                'oyster'\n            ],\n            'soy': [\n                'tofu',\n                'soya',\n                'edamame',\n                'miso',\n                'tempeh'\n            ],\n            'egg': [\n                'egg',\n                'omelette',\n                'mayonnaise'\n            ]\n        };\n        const detectedAllergens = [];\n        // Scan for each allergen category based on food name\n        Object.entries(allergenMap).forEach((param)=>{\n            let [allergen, keywords] = param;\n            if (keywords.some((keyword)=>foodLower.includes(keyword))) {\n                detectedAllergens.push(allergen);\n            }\n        });\n        return detectedAllergens;\n    };\n    const analyzeHealthImpacts = (food)=>{\n        var _food_name;\n        const impacts = [];\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // AI-powered health impact analysis\n        if (foodLower.includes('vegetable') || foodLower.includes('greens') || foodLower.includes('broccoli') || foodLower.includes('spinach')) {\n            impacts.push('High in antioxidants');\n            impacts.push('Supports immune function');\n        }\n        if (foodLower.includes('berry') || foodLower.includes('fruit') || foodLower.includes('apple')) {\n            impacts.push('Contains natural phytochemicals');\n            impacts.push('Provides dietary fiber');\n        }\n        // Add default health impacts if none detected\n        if (impacts.length === 0) {\n            impacts.push('Contains various nutrients');\n        }\n        return impacts;\n    };\n    const enhanceAllergenDetection = (baseAllergens, foodName)=>{\n        // Start with any allergens detected by the API\n        const enhancedAllergens = [\n            ...baseAllergens\n        ];\n        // Add any additional allergens detected through our local analysis\n        const additionalAllergens = getCommonAllergensForFood(foodName);\n        // Combine and deduplicate\n        additionalAllergens.forEach((allergen)=>{\n            if (!enhancedAllergens.includes(allergen)) {\n                enhancedAllergens.push(allergen);\n            }\n        });\n        return enhancedAllergens;\n    };\n    const enhanceHealthBenefits = (food)=>{\n        var _food_name;\n        const benefits = [];\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Determine health benefits based on food type\n        if (foodLower.includes('vegetable') || foodLower.includes('greens')) {\n            benefits.push('Rich in vitamins and minerals');\n            benefits.push('High in dietary fiber');\n            benefits.push('Low calorie density');\n        } else if (foodLower.includes('fruit')) {\n            benefits.push('Contains natural antioxidants');\n            benefits.push('Source of vitamin C');\n            benefits.push('Provides natural sugars for energy');\n        } else if (foodLower.includes('fish') || foodLower.includes('salmon')) {\n            benefits.push('High in omega-3 fatty acids');\n            benefits.push('Complete protein source');\n            benefits.push('Contains vitamin D');\n        } else {\n            benefits.push('Contains essential nutrients');\n        }\n        return benefits;\n    };\n    const generateHealthRecommendations = (food, allergens)=>{\n        var _food_name;\n        let recommendation = '';\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Generate personalized recommendations\n        if (allergens.length > 0) {\n            recommendation += \"Caution: This food may contain \".concat(allergens.join(', '), \". \");\n        }\n        // Food-specific recommendations\n        if (foodLower.includes('vegetable') || foodLower.includes('fruit')) {\n            recommendation += 'Excellent choice for daily nutrition! Rich in vitamins and fiber.';\n        } else if (foodLower.includes('protein') || foodLower.includes('meat') || foodLower.includes('fish')) {\n            recommendation += 'Good protein source. Try to balance with vegetables and whole grains.';\n        } else if (foodLower.includes('dessert') || foodLower.includes('cake') || foodLower.includes('sweet')) {\n            recommendation += 'Enjoy in moderation. High in sugar and calories.';\n        } else {\n            recommendation += 'Consider the nutritional profile and how it fits into your overall diet.';\n        }\n        return recommendation;\n    };\n    const calculateHealthScore = (food)=>{\n        var _food_name;\n        let score = 50; // Default starting score\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Adjust score based on food type\n        if (foodLower.includes('vegetable') || foodLower.includes('greens')) {\n            score += 30;\n        } else if (foodLower.includes('fruit')) {\n            score += 25;\n        } else if (foodLower.includes('whole grain')) {\n            score += 20;\n        } else if (foodLower.includes('processed') || foodLower.includes('junk')) {\n            score -= 20;\n        }\n        // Cap the score between 0 and 100\n        return Math.max(0, Math.min(100, score));\n    };\n    const calculateInflammatoryIndex = (food)=>{\n        var _food_name;\n        let index = 0; // Neutral starting point\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Calculate inflammatory index (-5 to 5, negative is anti-inflammatory)\n        if (foodLower.includes('vegetable') || foodLower.includes('berry') || foodLower.includes('omega')) {\n            index -= 3; // Anti-inflammatory\n        } else if (foodLower.includes('sugar') || foodLower.includes('processed')) {\n            index += 3; // Pro-inflammatory\n        }\n        return index;\n    };\n    const calculateGlycemicLoad = (food)=>{\n        var _food_name, _food_portion;\n        let baseGL = 10; // Default medium glycemic load\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Adjust based on carb content and type\n        if (foodLower.includes('sugar') || foodLower.includes('candy') || foodLower.includes('white bread')) {\n            baseGL = 25; // High GL\n        } else if (foodLower.includes('whole grain') || foodLower.includes('bean') || foodLower.includes('lentil')) {\n            baseGL = 5; // Low GL\n        } else if (foodLower.includes('vegetable') && !foodLower.includes('potato')) {\n            baseGL = 3; // Very low GL\n        } else if (foodLower.includes('meat') || foodLower.includes('fish')) {\n            baseGL = 0; // No carbs\n        }\n        // Further adjust based on portion/serving size if available\n        const portion = ((_food_portion = food.portion) === null || _food_portion === void 0 ? void 0 : _food_portion.toLowerCase()) || '';\n        if (portion.includes('large') || portion.includes('big')) {\n            baseGL *= 1.5;\n        } else if (portion.includes('small')) {\n            baseGL *= 0.7;\n        }\n        return Math.round(baseGL);\n    };\n    const calculateNutrientDensity = (food)=>{\n        var _food_name;\n        let density = 5; // Default medium nutrient density (1-10 scale)\n        const foodLower = ((_food_name = food.name) === null || _food_name === void 0 ? void 0 : _food_name.toLowerCase()) || '';\n        // Calculate nutrient density score based on food type\n        if (foodLower.includes('vegetable') || foodLower.includes('greens') || foodLower.includes('spinach')) {\n            density = 9; // Very high nutrient density\n        } else if (foodLower.includes('fruit') || foodLower.includes('berry')) {\n            density = 8; // High nutrient density\n        } else if (foodLower.includes('whole grain') || foodLower.includes('bean')) {\n            density = 7; // Good nutrient density\n        } else if (foodLower.includes('processed') || foodLower.includes('junk') || foodLower.includes('candy')) {\n            density = 2; // Low nutrient density\n        }\n        return density;\n    };\n    const handleCameraChange = (event)=>{\n        setSelectedCamera(event.target.value);\n    };\n    const resetResults = ()=>{\n        console.log('Resetting results and reinitializing camera...');\n        // Clear results state\n        setNutritionData(null);\n        setCapturedImageUrl(undefined);\n        setDetectedFoods([]);\n        setError(null);\n        setIsLoading(false);\n        // Reset camera status\n        setCameraStatus('initializing');\n        setIsCameraReady(false);\n        // Stop any active barcode scanner\n        if (barcodeScannerIntervalRef.current) {\n            clearInterval(barcodeScannerIntervalRef.current);\n            barcodeScannerIntervalRef.current = null;\n        }\n        setBarcodeScannerActive(false);\n        setLastBarcode(null);\n        // Reinitialize camera if we have a selected camera\n        if (selectedCamera) {\n            console.log('Reinitializing camera with device:', selectedCamera);\n            // Small delay to ensure state is updated\n            setTimeout(()=>{\n                startCamera();\n            }, 100);\n        } else {\n            // If no camera selected, force camera reload\n            console.log('No camera selected, forcing camera reload...');\n            // This will trigger the camera enumeration and start process again\n            setSelectedCamera('');\n            setCameraStatus('initializing');\n        }\n    };\n    const handleFileUpload = (event)=>{\n        if (event.target.files && event.target.files[0]) {\n            const file = event.target.files[0];\n            const previewUrl = URL.createObjectURL(file);\n            setCapturedImageUrl(previewUrl);\n            setScanSource('Uploaded Image');\n            // Analyze the uploaded image\n            analyzeImageFood(file);\n        }\n        // Reset file input\n        if (fileInputRef.current) {\n            fileInputRef.current.value = '';\n        }\n    };\n    const getConfidenceColor = (confidence)=>{\n        if (confidence > 0.8) return 'text-green-600';\n        if (confidence > 0.5) return 'text-yellow-600';\n        return 'text-red-600';\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"nutrilens-container\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"scanner-header\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        children: \"NutriLens Food Scanner\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1156,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Scan food items to get detailed nutrition information\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1157,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                lineNumber: 1155,\n                columnNumber: 7\n            }, undefined),\n            nutritionData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"captured-image\",\n                        children: capturedImageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: capturedImageUrl,\n                                    alt: \"Captured food\",\n                                    className: \"food-image\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                    lineNumber: 1165,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"image-source\",\n                                    children: scanSource\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                    lineNumber: 1166,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                            lineNumber: 1164,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1162,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ScanResults__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        data: nutritionData,\n                        onReset: ()=>{\n                            setNutritionData(null);\n                            setError(null);\n                            setDetectedFoods([]);\n                            setCapturedImageUrl(undefined);\n                        },\n                        imageUrl: capturedImageUrl,\n                        scanSource: \"camera\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1171,\n                        columnNumber: 11\n                    }, undefined),\n                    detectedFoods.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"additional-foods\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                children: \"Also Detected:\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1185,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"detected-foods-list\",\n                                children: detectedFoods.slice(1).map((food, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"detected-food-item\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: food.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1189,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: getConfidenceColor(food.confidence),\n                                                children: [\n                                                    Math.round(food.confidence * 100),\n                                                    \"%\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1190,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, index, true, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1188,\n                                        columnNumber: 19\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1186,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1184,\n                        columnNumber: 13\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"action-buttons\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"button-group\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"btn btn-primary\",\n                                onClick: resetResults,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Camera, {\n                                        size: 18\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1205,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    \"Scan Another Item\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1201,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                            lineNumber: 1200,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1199,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"card\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-header\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: \"Camera Feed\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1215,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"select-container\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: selectedCamera,\n                                                onChange: (e)=>setSelectedCamera(e.target.value),\n                                                className: \"select-styled\",\n                                                disabled: cameraDevices.length === 0 || isLoading,\n                                                children: cameraDevices.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"\",\n                                                    children: \"No cameras available\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                    lineNumber: 1224,\n                                                    columnNumber: 21\n                                                }, undefined) : cameraDevices.map((device)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: device.deviceId,\n                                                        children: device.label || \"Camera \".concat(device.deviceId.substr(0, 5), \"...\")\n                                                    }, device.deviceId, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1227,\n                                                        columnNumber: 23\n                                                    }, undefined))\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1217,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.ChevronDown, {\n                                                size: 16,\n                                                className: \"select-icon\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1233,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1216,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1214,\n                                columnNumber: 13\n                            }, undefined),\n                            error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"error-container\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.CameraOff, {\n                                        size: 48,\n                                        className: \"error-icon\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1239,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        children: \"Camera Error\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1240,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: error\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1241,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"retry-button\",\n                                        onClick: ()=>{\n                                            setError(null);\n                                            // Re-initialize camera\n                                            if (selectedCamera) {\n                                                // This will trigger the useEffect to restart camera\n                                                const currentCamera = selectedCamera;\n                                                setSelectedCamera('');\n                                                setTimeout(()=>setSelectedCamera(currentCamera), 100);\n                                            }\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.RefreshCcw, {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1255,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            \"Retry\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1242,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1238,\n                                columnNumber: 15\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"camera-container\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: videoRef,\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        className: \"camera-feed\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1261,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                                        ref: canvasRef,\n                                        className: \"hidden\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1267,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"camera-overlay\",\n                                        children: [\n                                            barcodeScannerActive && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"barcode-scanner-indicator\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"scan-line\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1272,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"scanning-text\",\n                                                        children: \"Scanning for barcodes...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1273,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1271,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"camera-status\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"status-indicator\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1278,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: barcodeScannerActive ? 'Barcode Scanner Active' : 'Camera Active'\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1279,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1277,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                type: \"file\",\n                                                accept: \"image/*\",\n                                                ref: fileInputRef,\n                                                style: {\n                                                    display: 'none'\n                                                },\n                                                onChange: handleFileUpload\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1283,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            lastBarcode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"last-barcode\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Last Barcode:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                        lineNumber: 1294,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    \" \",\n                                                    lastBarcode\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                                lineNumber: 1293,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1269,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1260,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"card-footer\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: \"Position food item in frame, tap button to scan, or upload an image\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1302,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"badge badge-primary\",\n                                        children: \"AI Enhanced\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1305,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1301,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1213,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bottom-actions\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"button-group\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"btn \".concat(barcodeScannerActive ? 'btn-secondary' : 'btn-primary'),\n                                    onClick: ()=>barcodeScannerActive ? stopBarcodeScanner() : startBarcodeScanner(),\n                                    disabled: !streamRef.current || isLoading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Barcode, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                            lineNumber: 1318,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        barcodeScannerActive ? 'Stop Scanning' : 'Scan Barcode'\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                    lineNumber: 1313,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"btn btn-primary capture\",\n                                    onClick: ()=>captureImage(),\n                                    disabled: !streamRef.current || isLoading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Camera, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                            lineNumber: 1328,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Capture Photo\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                    lineNumber: 1323,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"btn btn-secondary upload\",\n                                    onClick: ()=>{\n                                        var _fileInputRef_current;\n                                        return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                    },\n                                    disabled: isLoading,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Barcode_Camera_CameraOff_ChevronDown_RefreshCcw_Upload_lucide_react__WEBPACK_IMPORTED_MODULE_4__.Upload, {\n                                            size: 18\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                            lineNumber: 1338,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Upload Image\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                    lineNumber: 1333,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                            lineNumber: 1311,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1310,\n                        columnNumber: 11\n                    }, undefined),\n                    isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"loading-container\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"loading-spinner\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1346,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-semibold text-lg mb-1\",\n                                        children: \"Processing Image\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1348,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm\",\n                                        children: \"Our AI is analyzing your food for detailed nutritional information\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                        lineNumber: 1349,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                                lineNumber: 1347,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n                        lineNumber: 1345,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Projects\\\\Hackathon July 2025\\\\Vitalmatrix\\\\src\\\\features\\\\NutriLens\\\\NutriLensPage.tsx\",\n        lineNumber: 1154,\n        columnNumber: 5\n    }, undefined);\n};\n_s(NutriLensPage, \"iTc2QEAQlMWMJw3yVLQdJZyjO/Y=\");\n_c = NutriLensPage;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NutriLensPage);\nvar _c;\n$RefreshReg$(_c, \"NutriLensPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy9mZWF0dXJlcy9OdXRyaUxlbnMvTnV0cmlMZW5zUGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErRDtBQUN3RDtBQUM1RDtBQUMzRCxnQ0FBZ0M7QUFDNEI7QUFVNUQsb0NBQW9DO0FBQ3BDLE1BQU1ZLGdCQUFnQjtJQUNwQixNQUFNQyxLQUFLQyxVQUFVQyxTQUFTO0lBQzlCLElBQUlDLFVBQVU7UUFBRUMsTUFBTTtRQUFXQyxTQUFTO1FBQVdDLFFBQVE7UUFBT0MsSUFBSTtJQUFVO0lBRWxGLGdCQUFnQjtJQUNoQkosUUFBUUcsTUFBTSxHQUFHLGlFQUFpRUUsSUFBSSxDQUFDUjtJQUV2RixZQUFZO0lBQ1osSUFBSSxNQUFNUSxJQUFJLENBQUNSLEtBQUtHLFFBQVFJLEVBQUUsR0FBRztTQUM1QixJQUFJLE1BQU1DLElBQUksQ0FBQ1IsS0FBS0csUUFBUUksRUFBRSxHQUFHO1NBQ2pDLElBQUksUUFBUUMsSUFBSSxDQUFDUixLQUFLRyxRQUFRSSxFQUFFLEdBQUc7U0FDbkMsSUFBSSxVQUFVQyxJQUFJLENBQUNSLEtBQUtHLFFBQVFJLEVBQUUsR0FBRztTQUNyQyxJQUFJLHVCQUF1QkMsSUFBSSxDQUFDUixLQUFLRyxRQUFRSSxFQUFFLEdBQUc7SUFFdkQsaUJBQWlCO0lBQ2pCLElBQUkscUJBQXFCQyxJQUFJLENBQUNSLEtBQUs7WUFFZkE7UUFEbEJHLFFBQVFDLElBQUksR0FBRztRQUNmRCxRQUFRRSxPQUFPLEdBQUdMLEVBQUFBLFlBQUFBLEdBQUdTLEtBQUssQ0FBQyxtQ0FBVFQsZ0NBQUFBLFNBQWdDLENBQUMsRUFBRSxLQUFJO0lBQzNELE9BQU8sSUFBSSxrQkFBa0JRLElBQUksQ0FBQ1IsT0FBTywwQkFBMEJRLElBQUksQ0FBQ1IsS0FBSztZQUV6REEsWUFBb0NBO1FBRHRERyxRQUFRQyxJQUFJLEdBQUc7UUFDZkQsUUFBUUUsT0FBTyxHQUFHTCxFQUFBQSxhQUFBQSxHQUFHUyxLQUFL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OztrREFDM0MsOERBQUNFO3dDQUFFRixXQUFVO2tEQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF2QztHQTl3Q001UztLQUFBQTtBQWd4Q04saUVBQWVBLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxQcm9qZWN0c1xcSGFja2F0aG9uIEp1bHkgMjAyNVxcVml0YWxtYXRyaXhcXHNyY1xcZmVhdHVyZXNcXE51dHJpTGVuc1xcTnV0cmlMZW5zUGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgRkMgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENhbWVyYSwgQ2FtZXJhT2ZmLCBSZWZyZXNoQ2N3LCBDaGVjaywgQWxlcnRUcmlhbmdsZSwgQ2hldnJvbkRvd24sIFVwbG9hZCwgQmFyY29kZSwgSW5mbyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCBTY2FuUmVzdWx0cywgeyBOdXRyaXRpb25EYXRhIH0gZnJvbSAnLi9TY2FuUmVzdWx0cyc7XHJcbi8vIEltcG9ydCBjdXN0b20gYmFyY29kZSBzY2FubmVyXHJcbmltcG9ydCB7IGJhcmNvZGVTY2FubmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvYmFyY29kZVNjYW5uZXInO1xyXG5cclxuLy8gSGVscGVyIHR5cGUgZm9yIGJyb3dzZXIgZGV0ZWN0aW9uXHJcbmludGVyZmFjZSBCcm93c2VySW5mbyB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHZlcnNpb246IHN0cmluZztcclxuICBtb2JpbGU6IGJvb2xlYW47XHJcbiAgb3M6IHN0cmluZztcclxufVxyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVjdCBicm93c2VyXHJcbmNvbnN0IGRldGVjdEJyb3dzZXIgPSAoKTogQnJvd3NlckluZm8gPT4ge1xyXG4gIGNvbnN0IHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuICBsZXQgYnJvd3NlciA9IHsgbmFtZTogJ1Vua25vd24nLCB2ZXJzaW9uOiAnVW5rbm93bicsIG1vYmlsZTogZmFsc2UsIG9zOiAnVW5rbm93bicgfTtcclxuICBcclxuICAvLyBEZXRlY3QgbW9iaWxlXHJcbiAgYnJvd3Nlci5tb2JpbGUgPSAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QodWEpO1xyXG4gIFxyXG4gIC8vIERldGVjdCBPU1xyXG4gIGlmICgvV2luLy50ZXN0KHVhKSkgYnJvd3Nlci5vcyA9ICdXaW5kb3dzJztcclxuICBlbHNlIGlmICgvTWFjLy50ZXN0KHVhKSkgYnJvd3Nlci5vcyA9ICdNYWNPUyc7XHJcbiAgZWxzZSBpZiAoL0xpbnV4Ly50ZXN0KHVhKSkgYnJvd3Nlci5vcyA9ICdMaW51eCc7XHJcbiAgZWxzZSBpZiAoL0FuZHJvaWQvLnRlc3QodWEpKSBicm93c2VyLm9zID0gJ0FuZHJvaWQnO1xyXG4gIGVsc2UgaWYgKC9pT1N8aVBob25lfGlQYWR8aVBvZC8udGVzdCh1YSkpIGJyb3dzZXIub3MgPSAnaU9TJztcclxuICBcclxuICAvLyBEZXRlY3QgYnJvd3NlclxyXG4gIGlmICgvRmlyZWZveFxcLyhbMC05Ll0rKS8udGVzdCh1YSkpIHtcclxuICAgIGJyb3dzZXIubmFtZSA9ICdGaXJlZm94JztcclxuICAgIGJyb3dzZXIudmVyc2lvbiA9IHVhLm1hdGNoKC9GaXJlZm94XFwvKFswLTkuXSspLyk/LlsxXSB8fCAnJztcclxuICB9IGVsc2UgaWYgKC9NU0lFXFwvKFswLTkuXSspLy50ZXN0KHVhKSB8fCAvVHJpZGVudFxcLy4qcnY6KFswLTkuXSspLy50ZXN0KHVhKSkge1xyXG4gICAgYnJvd3Nlci5uYW1lID0gJ0lFJztcclxuICAgIGJyb3dzZXIudmVyc2lvbiA9IHVhLm1hdGNoKC9NU0lFXFwvKFswLTkuXSspLyk/LlsxXSB8fCB1YS5tYXRjaCgvVHJpZGVudFxcLy4qcnY6KFswLTkuXSspLyk/LlsxXSB8fCAnJztcclxuICB9IGVsc2UgaWYgKC9DaHJvbWVcXC8oWzAtOS5dKykvLnRlc3QodWEpKSB7XHJcbiAgICBicm93c2VyLm5hbWUgPSAnQ2hyb21lJztcclxuICAgIGJyb3dzZXIudmVyc2lvbiA9IHVhLm1hdGNoKC9DaHJvbWVcXC8oWzAtOS5dKykvKT8uWzFdIHx8ICcnO1xyXG4gIH0gZWxzZSBpZiAoL1NhZmFyaVxcLyhbMC05Ll0rKS8udGVzdCh1YSkpIHtcclxuICAgIGJyb3dzZXIubmFtZSA9ICdTYWZhcmknO1xyXG4gICAgYnJvd3Nlci52ZXJzaW9uID0gdWEubWF0Y2goL1ZlcnNpb25cXC8oWzAtOS5dKykvKT8uWzFdIHx8ICcnO1xyXG4gIH0gZWxzZSBpZiAoL0VkZ2VcXC8oWzAtOS5dKykvLnRlc3QodWEpKSB7XHJcbiAgICBicm93c2VyLm5hbWUgPSAnRWRnZSc7XHJcbiAgICBicm93c2VyLnZlcnNpb24gPSB1YS5tYXRjaCgvRWRnZVxcLyhbMC05Ll0rKS8pPy5bMV0gfHwgJyc7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBicm93c2VyO1xyXG59O1xyXG5cclxuLy8gRGVidWcgc3RhdHVzIGZvciBwcm9kdWN0aW9uIHRyb3VibGVzaG9vdGluZ1xyXG5pbnRlcmZhY2UgQ2FtZXJhRGVidWdJbmZvIHtcclxuICBicm93c2VySW5mbzogQnJvd3NlckluZm87XHJcbiAgc2VjdXJlQ29udGV4dDogYm9vbGVhbjtcclxuICBoYXNNZWRpYURldmljZXM6IGJvb2xlYW47XHJcbiAgaGFzRW51bWVyYXRlRGV2aWNlczogYm9vbGVhbjtcclxuICBoYXNHZXRVc2VyTWVkaWE6IGJvb2xlYW47XHJcbiAgY2FtZXJhUGVybWlzc2lvbj86IHN0cmluZztcclxuICBodHRwczogYm9vbGVhbjtcclxuICBlcnJvckxvZzogc3RyaW5nW107XHJcbn1cclxuXHJcbmNvbnN0IE51dHJpTGVuc1BhZ2U6IEZDID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtudXRyaXRpb25EYXRhLCBzZXROdXRyaXRpb25EYXRhXSA9IHVzZVN0YXRlPE51dHJpdGlvbkRhdGEgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbY2FwdHVyZWRJbWFnZVVybCwgc2V0Q2FwdHVyZWRJbWFnZVVybF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjYW1lcmFEZXZpY2VzLCBzZXRDYW1lcmFEZXZpY2VzXSA9IHVzZVN0YXRlPE1lZGlhRGV2aWNlSW5mb1tdPihbXSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkQ2FtZXJhLCBzZXRTZWxlY3RlZENhbWVyYV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcclxuICBjb25zdCBbZGV0ZWN0ZWRGb29kcywgc2V0RGV0ZWN0ZWRGb29kc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xyXG4gIGNvbnN0IFtzY2FuU291cmNlLCBzZXRTY2FuU291cmNlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ0FJIFZpc2lvbicpO1xyXG4gIGNvbnN0IFtiYXJjb2RlU2Nhbm5lckFjdGl2ZSwgc2V0QmFyY29kZVNjYW5uZXJBY3RpdmVdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBCYXJjb2RlIHNjYW5uZXIgaW5pdGlhbGx5IG9mZlxyXG4gIGNvbnN0IFtsYXN0QmFyY29kZSwgc2V0TGFzdEJhcmNvZGVdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzQ2FtZXJhUmVhZHksIHNldElzQ2FtZXJhUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIFxyXG4gIC8vIE5ldyBkZWJ1ZyBzdGF0ZSBmb3IgdHJvdWJsZXNob290aW5nXHJcbiAgY29uc3QgW2RlYnVnTW9kZSwgc2V0RGVidWdNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpOyAvLyBFbmFibGUgZGVidWcgYnkgZGVmYXVsdCBpbiBwcm9kdWN0aW9uXHJcbiAgY29uc3QgW2RlYnVnSW5mbywgc2V0RGVidWdJbmZvXSA9IHVzZVN0YXRlPENhbWVyYURlYnVnSW5mbz4oe1xyXG4gICAgYnJvd3NlckluZm86IGRldGVjdEJyb3dzZXIoKSxcclxuICAgIHNlY3VyZUNvbnRleHQ6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5pc1NlY3VyZUNvbnRleHQsXHJcbiAgICBoYXNNZWRpYURldmljZXM6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmICEhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyxcclxuICAgIGhhc0VudW1lcmF0ZURldmljZXM6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmICEhbmF2aWdhdG9yLm1lZGlhRGV2aWNlcz8uZW51bWVyYXRlRGV2aWNlcyxcclxuICAgIGhhc0dldFVzZXJNZWRpYTogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgISFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzPy5nZXRVc2VyTWVkaWEsXHJcbiAgICBodHRwczogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyxcclxuICAgIGVycm9yTG9nOiBbXVxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIENhbWVyYSBzdGF0dXNcclxuICBjb25zdCBbY2FtZXJhU3RhdHVzLCBzZXRDYW1lcmFTdGF0dXNdID0gdXNlU3RhdGU8J3BlbmRpbmcnfCdpbml0aWFsaXppbmcnfCdhY3RpdmUnfCdlcnJvcid8J25vdC1zdXBwb3J0ZWQnPigncGVuZGluZycpO1xyXG4gIFxyXG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZjxIVE1MQ2FudmFzRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHN0cmVhbVJlZiA9IHVzZVJlZjxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGJhcmNvZGVSZWFkZXJSZWYgPSB1c2VSZWY8YW55PihudWxsKTsgLy8gVXNpbmcgYW55IHRvIGF2b2lkIFR5cGVTY3JpcHQgZXJyb3JzIHdpdGggWlhpbmdcclxuICBjb25zdCBiYXJjb2RlU2Nhbm5lckludGVydmFsUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpO1xyXG4gIFxyXG4gIC8vIExvZ2dlciBmdW5jdGlvbiB0aGF0IGJvdGggbG9ncyB0byBjb25zb2xlIGFuZCB1cGRhdGVzIGRlYnVnIHN0YXRlXHJcbiAgY29uc3QgbG9nRGVidWcgPSAobWVzc2FnZTogc3RyaW5nLCBkYXRhPzogYW55KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgW051dHJpTGVuc10gJHttZXNzYWdlfWAsIGRhdGEgfHwgJycpO1xyXG4gICAgaWYgKGRlYnVnTW9kZSkge1xyXG4gICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoe1xyXG4gICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAgZXJyb3JMb2c6IFsuLi5wcmV2LmVycm9yTG9nLnNsaWNlKC05KSwgYCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDExLCAxOSl9ICR7bWVzc2FnZX1gXVxyXG4gICAgICB9KSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBFcnJvciBoYW5kbGVyIGZvciBjYW1lcmEgaXNzdWVzXHJcbiAgY29uc3QgaGFuZGxlQ2FtZXJhRXJyb3IgPSAoZXJyb3I6IGFueSwgY29udGV4dDogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBDYW1lcmEgZXJyb3IgKCR7Y29udGV4dH0pOmAsIGVycm9yKTtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcclxuICAgIHNldEVycm9yKGBDYW1lcmEgYWNjZXNzIGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgZW5zdXJlIGNhbWVyYSBwZXJtaXNzaW9ucyBhcmUgZ3JhbnRlZCBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuYCk7XHJcbiAgICBzZXRDYW1lcmFTdGF0dXMoJ2Vycm9yJyk7XHJcbiAgICBcclxuICAgIC8vIFVwZGF0ZSBkZWJ1ZyBpbmZvXHJcbiAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoe1xyXG4gICAgICAuLi5wcmV2LFxyXG4gICAgICBlcnJvckxvZzogWy4uLnByZXYuZXJyb3JMb2cuc2xpY2UoLTkpLCBgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc2xpY2UoMTEsIDE5KX0gRVJST1IgKCR7Y29udGV4dH0pOiAke2Vycm9yTWVzc2FnZX1gXVxyXG4gICAgfSkpO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgY2FtZXJhIEFQSSBpcyBzdXBwb3J0ZWRcclxuICBjb25zdCBjaGVja0NhbWVyYVN1cHBvcnQgPSAoKSA9PiB7XHJcbiAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XHJcbiAgICAgIHNldEVycm9yKCdDYW1lcmEgYWNjZXNzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBQbGVhc2UgdHJ5IGEgbW9kZXJuIGJyb3dzZXIgbGlrZSBDaHJvbWUsIEZpcmVmb3gsIG9yIEVkZ2UuJyk7XHJcbiAgICAgIHNldENhbWVyYVN0YXR1cygnbm90LXN1cHBvcnRlZCcpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEZ1bmN0aW9uIHRvIHN0b3AgYW55IGFjdGl2ZSBzdHJlYW1cclxuICBjb25zdCBzdG9wQ2FtZXJhU3RyZWFtID0gKCkgPT4ge1xyXG4gICAgaWYgKHN0cmVhbVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHN0cmVhbVJlZi5jdXJyZW50LmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xyXG4gICAgICAgIHRyYWNrLnN0b3AoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHN0cmVhbVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgXHJcbiAgICAgIC8vIENsZWFyIHZpZGVvIHNvdXJjZVxyXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBsb2dEZWJ1ZygnQ2FtZXJhIHN0cmVhbSBzdG9wcGVkJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gR2V0IGF2YWlsYWJsZSBjYW1lcmEgZGV2aWNlcyB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nIGFuZCBsb2dnaW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGdldENhbWVyYXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbG9nRGVidWcoJ1N0YXJ0aW5nIGNhbWVyYSBkZXRlY3Rpb24gcHJvY2VzcycpO1xyXG4gICAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+ICh7IC4uLnByZXYsIGNhbWVyYVBlcm1pc3Npb246ICdjaGVja2luZycgfSkpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpcnN0IGNoZWNrIGlmIHdlIGhhdmUgdGhlIHJlcXVpcmVkIEFQSXNcclxuICAgICAgICBpZiAoIWNoZWNrQ2FtZXJhU3VwcG9ydCgpKSB7XHJcbiAgICAgICAgICBsb2dEZWJ1ZygnQ2FtZXJhIEFQSSBub3Qgc3VwcG9ydGVkJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHNldENhbWVyYVN0YXR1cygnaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gYSBzZWN1cmUgY29udGV4dFxyXG4gICAgICAgIGlmICh3aW5kb3cuaXNTZWN1cmVDb250ZXh0ID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgbG9nRGVidWcoJ1dBUk5JTkc6IE5vdCBpbiBhIHNlY3VyZSBjb250ZXh0IC0gY2FtZXJhIG1heSBub3Qgd29yaycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBDaGVjayBpZiBwcm90b2NvbCBpcyBIVFRQU1xyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgIT09ICdodHRwczonICYmIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0gJ2xvY2FsaG9zdCcpIHtcclxuICAgICAgICAgIGxvZ0RlYnVnKGBXQVJOSU5HOiBOb3QgdXNpbmcgSFRUUFMgKCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfSkgLSBjYW1lcmEgcmVxdWlyZXMgSFRUUFMgZXhjZXB0IG9uIGxvY2FsaG9zdGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXhwbGljaXRseSByZXF1ZXN0IGNhbWVyYSBwZXJtaXNzaW9uIGZpcnN0IGlmIHBlcm1pc3Npb25zIEFQSSBpcyBhdmFpbGFibGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKG5hdmlnYXRvci5wZXJtaXNzaW9ucyAmJiBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkpIHtcclxuICAgICAgICAgICAgbG9nRGVidWcoJ0NoZWNraW5nIGNhbWVyYSBwZXJtaXNzaW9ucy4uLicpO1xyXG4gICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogJ2NhbWVyYScgYXMgUGVybWlzc2lvbk5hbWUgfSk7XHJcbiAgICAgICAgICAgIGxvZ0RlYnVnKGBQZXJtaXNzaW9uIHN0YXR1czogJHtwZXJtaXNzaW9uU3RhdHVzLnN0YXRlfWApO1xyXG4gICAgICAgICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiAoeyAuLi5wcmV2LCBjYW1lcmFQZXJtaXNzaW9uOiBwZXJtaXNzaW9uU3RhdHVzLnN0YXRlIH0pKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFdhdGNoIGZvciBwZXJtaXNzaW9uIGNoYW5nZXNcclxuICAgICAgICAgICAgcGVybWlzc2lvblN0YXR1cy5vbmNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICBsb2dEZWJ1ZyhgUGVybWlzc2lvbiBjaGFuZ2VkIHRvOiAke3Blcm1pc3Npb25TdGF0dXMuc3RhdGV9YCk7XHJcbiAgICAgICAgICAgICAgc2V0RGVidWdJbmZvKHByZXYgPT4gKHsgLi4ucHJldiwgY2FtZXJhUGVybWlzc2lvbjogcGVybWlzc2lvblN0YXR1cy5zdGF0ZSB9KSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdncmFudGVkJyAmJiBjYW1lcmFTdGF0dXMgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHBlcm1pc3Npb24gd2FzIGdyYW50ZWQgYWZ0ZXIgcHJldmlvdXNseSBiZWluZyBkZW5pZWQsIHJldHJ5XHJcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnUGVybWlzc2lvbiBub3cgZ3JhbnRlZCwgcmVzdGFydGluZyBjYW1lcmEnKTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0Q2FtZXJhKCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09PSAnZGVuaWVkJyAmJiBzdHJlYW1SZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgcGVybWlzc2lvbiB3YXMgcmV2b2tlZCB3aGlsZSBjYW1lcmEgd2FzIHJ1bm5pbmcsIHN0b3AgaXRcclxuICAgICAgICAgICAgICAgIGxvZ0RlYnVnKCdQZXJtaXNzaW9uIHJldm9rZWQsIHN0b3BwaW5nIGNhbWVyYScpO1xyXG4gICAgICAgICAgICAgICAgc3RvcENhbWVyYVN0cmVhbSgpO1xyXG4gICAgICAgICAgICAgICAgc2V0Q2FtZXJhU3RhdHVzKCdlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoJ0NhbWVyYSBwZXJtaXNzaW9uIGhhcyBiZWVuIGRlbmllZC4gUGxlYXNlIGVuYWJsZSBpdCBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdkZW5pZWQnKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW1lcmEgcGVybWlzc2lvbiBoYXMgYmVlbiBkZW5pZWQuIFBsZWFzZSBlbmFibGUgaXQgaW4geW91ciBicm93c2VyIHNldHRpbmdzLicpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdwcm9tcHQnKSB7XHJcbiAgICAgICAgICAgICAgbG9nRGVidWcoJ1VzZXIgd2lsbCBiZSBwcm9tcHRlZCBmb3IgY2FtZXJhIHBlcm1pc3Npb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKHBlcm1FcnJvcikge1xyXG4gICAgICAgICAgbG9nRGVidWcoJ0NvdWxkIG5vdCBjaGVjayBwZXJtaXNzaW9ucyBleHBsaWNpdGx5JywgcGVybUVycm9yKTtcclxuICAgICAgICAgIC8vIENvbnRpbnVlIGFueXdheSBhcyBzb21lIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIHBlcm1pc3Npb25zIEFQSSBmdWxseVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9nRGVidWcoJ0VudW1lcmF0aW5nIGNhbWVyYSBkZXZpY2VzLi4uJyk7XHJcbiAgICAgICAgY29uc3QgZGV2aWNlcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xyXG4gICAgICAgIGNvbnN0IGNhbWVyYXMgPSBkZXZpY2VzLmZpbHRlcihkZXZpY2UgPT4gZGV2aWNlLmtpbmQgPT09ICd2aWRlb2lucHV0Jyk7XHJcbiAgICAgICAgbG9nRGVidWcoYEZvdW5kICR7Y2FtZXJhcy5sZW5ndGh9IGNhbWVyYXM6YCwgY2FtZXJhcy5tYXAoYyA9PiBjLmxhYmVsIHx8ICd1bmxhYmVsZWQgY2FtZXJhJykpO1xyXG4gICAgICAgIHNldENhbWVyYURldmljZXMoY2FtZXJhcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5pdGlhbCBjYW1lcmEgc2VsZWN0aW9uIGxvZ2ljXHJcbiAgICAgICAgaWYgKGNhbWVyYXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgLy8gU29ydCBjYW1lcmFzIC0gcHJlZmVyIGJhY2svZW52aXJvbm1lbnQgZmFjaW5nIGNhbWVyYXMgb24gbW9iaWxlXHJcbiAgICAgICAgICBjb25zdCBzb3J0ZWRDYW1lcmFzID0gWy4uLmNhbWVyYXNdLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGFiZWxBID0gKGEubGFiZWwgfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsQiA9IChiLmxhYmVsIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUHJpb3JpdGl6ZSByZWFsIGNhbWVyYXMgb3ZlciB2aXJ0dWFsIG9uZXNcclxuICAgICAgICAgICAgY29uc3QgYUlzVmlydHVhbCA9IGxhYmVsQS5pbmNsdWRlcygnb2JzJykgfHwgbGFiZWxBLmluY2x1ZGVzKCd2aXJ0dWFsJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJJc1ZpcnR1YWwgPSBsYWJlbEIuaW5jbHVkZXMoJ29icycpIHx8IGxhYmVsQi5pbmNsdWRlcygndmlydHVhbCcpO1xyXG4gICAgICAgICAgICBpZiAoYUlzVmlydHVhbCAmJiAhYklzVmlydHVhbCkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIGlmICghYUlzVmlydHVhbCAmJiBiSXNWaXJ0dWFsKSByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBPbiBtb2JpbGUsIHByZWZlciAnYmFjaycsICdyZWFyJywgb3IgJ2Vudmlyb25tZW50JyBjYW1lcmFzXHJcbiAgICAgICAgICAgIGNvbnN0IGFJc0JhY2sgPSBsYWJlbEEuaW5jbHVkZXMoJ2JhY2snKSB8fCBsYWJlbEEuaW5jbHVkZXMoJ3JlYXInKSB8fCBsYWJlbEEuaW5jbHVkZXMoJ2Vudmlyb25tZW50Jyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJJc0JhY2sgPSBsYWJlbEIuaW5jbHVkZXMoJ2JhY2snKSB8fCBsYWJlbEIuaW5jbHVkZXMoJ3JlYXInKSB8fCBsYWJlbEIuaW5jbHVkZXMoJ2Vudmlyb25tZW50Jyk7XHJcbiAgICAgICAgICAgIGlmIChhSXNCYWNrICYmICFiSXNCYWNrKSByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgIGlmICghYUlzQmFjayAmJiBiSXNCYWNrKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNlbGVjdCB0aGUgZmlyc3QgY2FtZXJhIGFmdGVyIHNvcnRpbmdcclxuICAgICAgICAgIGNvbnN0IGJlc3RDYW1lcmEgPSBzb3J0ZWRDYW1lcmFzWzBdO1xyXG4gICAgICAgICAgbG9nRGVidWcoYFNlbGVjdGVkIGNhbWVyYTogJHtiZXN0Q2FtZXJhLmxhYmVsIHx8ICd1bmxhYmVsZWQgY2FtZXJhJ31gKTtcclxuICAgICAgICAgIHNldFNlbGVjdGVkQ2FtZXJhKGJlc3RDYW1lcmEuZGV2aWNlSWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsb2dEZWJ1ZygnTm8gY2FtZXJhcyBmb3VuZCcpO1xyXG4gICAgICAgICAgc2V0RXJyb3IoJ05vIGNhbWVyYXMgZGV0ZWN0ZWQgb24geW91ciBkZXZpY2UuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0YXJ0IGNhbWVyYSB3aXRoIGEgc2xpZ2h0IGRlbGF5IHRvIGFsbG93IHN0YXRlIHVwZGF0ZXNcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHN0YXJ0Q2FtZXJhKCk7XHJcbiAgICAgICAgfSwgNTAwKTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgaGFuZGxlQ2FtZXJhRXJyb3IoZXJyLCAnZ2V0Q2FtZXJhcycpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBnZXRDYW1lcmFzKCk7XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIC8vIENsZWFuIHVwIGNhbWVyYSBvbiB1bm1vdW50XHJcbiAgICAgIHN0b3BDYW1lcmFTdHJlYW0oKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG4gIFxyXG4gIC8vIEF1dG8tc3RhcnQgYmFyY29kZSBzY2FubmVyIHdoZW4gY2FtZXJhIGlzIHJlYWR5XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBzdGFydFNjYW5uZXJUaW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG4gICAgXHJcbiAgICBpZiAoaXNDYW1lcmFSZWFkeSAmJiAhYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50ICYmICFiYXJjb2RlU2Nhbm5lckFjdGl2ZSkge1xyXG4gICAgICBsb2dEZWJ1ZygnQ2FtZXJhIGlzIHJlYWR5LCBhdXRvLXN0YXJ0aW5nIGJhcmNvZGUgc2Nhbm5lcicpO1xyXG4gICAgICAvLyBBZGQgYSBkZWxheSB0byBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBmdWxseSBpbml0aWFsaXplZFxyXG4gICAgICBzdGFydFNjYW5uZXJUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgbG9nRGVidWcoJ0F1dG8tc3RhcnRpbmcgYmFyY29kZSBzY2FubmVyJyk7XHJcbiAgICAgICAgaWYgKCFiYXJjb2RlU2Nhbm5lckludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIHNldEJhcmNvZGVTY2FubmVyQWN0aXZlKHRydWUpO1xyXG4gICAgICAgICAgc3RhcnRCYXJjb2RlU2Nhbm5lcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChzdGFydFNjYW5uZXJUaW1lb3V0KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHN0YXJ0U2Nhbm5lclRpbWVvdXQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtpc0NhbWVyYVJlYWR5LCBiYXJjb2RlU2Nhbm5lckFjdGl2ZV0pO1xyXG5cclxuICAvLyBJbml0aWFsaXplIGJhcmNvZGUgcmVhZGVyXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEluaXRpYWxpemUgWlhpbmcgQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyIGZvciBiYXJjb2RlIHNjYW5uaW5nXHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgbG9nRGVidWcoJ0luaXRpYWxpemluZyBiYXJjb2RlIHJlYWRlci4uLicpO1xyXG4gICAgICAvLyBEeW5hbWljIGltcG9ydCBvZiB0aGUgWlhpbmcgbGlicmFyeVxyXG4gICAgICBpbXBvcnQoJ0B6eGluZy9icm93c2VyJykudGhlbigoeyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIgfSkgPT4ge1xyXG4gICAgICAgIGltcG9ydCgnQHp4aW5nL2xpYnJhcnknKS50aGVuKCh7IEJhcmNvZGVGb3JtYXQsIERlY29kZUhpbnRUeXBlIH0pID0+IHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSBoaW50cyB0byBvcHRpbWl6ZSBmb3IgY29tbW9uIGJhcmNvZGUgZm9ybWF0c1xyXG4gICAgICAgICAgICBjb25zdCBoaW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgaGludHMuc2V0KERlY29kZUhpbnRUeXBlLlBPU1NJQkxFX0ZPUk1BVFMsIFtcclxuICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0LkVBTl8xMyxcclxuICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0LlVQQ19BLFxyXG4gICAgICAgICAgICAgIEJhcmNvZGVGb3JtYXQuVVBDX0UsXHJcbiAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdC5FQU5fOCxcclxuICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0LkNPREVfMTI4LFxyXG4gICAgICAgICAgICAgIEJhcmNvZGVGb3JtYXQuQ09ERV8zOSxcclxuICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0LlFSX0NPREUgLy8gQWRkIFFSIGNvZGUgc3VwcG9ydFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgaGludHMuc2V0KERlY29kZUhpbnRUeXBlLlRSWV9IQVJERVIsIHRydWUpO1xyXG4gICAgICAgICAgICBoaW50cy5zZXQoRGVjb2RlSGludFR5cGUuUFVSRV9CQVJDT0RFLCBmYWxzZSk7IC8vIEFsbG93IGltcGVyZmVjdCBiYXJjb2Rlc1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHJlYWRlciB3aXRoIG9wdGltaXplZCBzZXR0aW5nc1xyXG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyKGhpbnRzLCB7IFxyXG4gICAgICAgICAgICAgIGRlbGF5QmV0d2VlblNjYW5BdHRlbXB0czogMTAsIC8vIFZlcnkgYWdncmVzc2l2ZSBzY2FubmluZ1xyXG4gICAgICAgICAgICAgIGRlbGF5QmV0d2VlblNjYW5TdWNjZXNzOiA1MDAgLy8gU2hvcnRlciBkZWxheSBhZnRlciBzdWNjZXNzZnVsIHNjYW5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBiYXJjb2RlUmVhZGVyUmVmLmN1cnJlbnQgPSByZWFkZXI7XHJcbiAgICAgICAgICAgIGxvZ0RlYnVnKCdCYXJjb2RlIHJlYWRlciBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkgd2l0aCBlbmhhbmNlZCBjb25maWd1cmF0aW9uJyk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgbG9nRGVidWcoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGJhcmNvZGUgcmVhZGVyJywgZXJyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gbG9nRGVidWcoJ0ZhaWxlZCB0byBpbXBvcnQgWlhpbmcgbGlicmFyeScsIGVycikpO1xyXG4gICAgICB9KS5jYXRjaChlcnIgPT4gbG9nRGVidWcoJ0ZhaWxlZCB0byBpbXBvcnQgWlhpbmcgYnJvd3NlcicsIGVycikpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDbGVhbiB1cCBaWGluZyByZWFkZXIgb24gdW5tb3VudFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKGJhcmNvZGVSZWFkZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBiYXJjb2RlUmVhZGVyUmVmLmN1cnJlbnQucmVzZXQoKTtcclxuICAgICAgICAgIGxvZ0RlYnVnKCdCYXJjb2RlIHJlYWRlciByZXNldCcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgbG9nRGVidWcoJ0Vycm9yIHJlc2V0dGluZyBiYXJjb2RlIHJlYWRlcicsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChiYXJjb2RlU2Nhbm5lckludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIGJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgbG9nRGVidWcoJ0JhcmNvZGUgc2Nhbm5lciBpbnRlcnZhbCBjbGVhcmVkJyk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHN0b3BDYW1lcmFTdHJlYW0oKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG4gIFxyXG4gIC8vIENvbXByZWhlbnNpdmUgY2FtZXJhIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uXHJcbiAgY29uc3Qgc3RhcnRDYW1lcmEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBJZiBhbHJlYWR5IHN0cmVhbWluZywgc3RvcCBpdCBmaXJzdFxyXG4gICAgc3RvcENhbWVyYVN0cmVhbSgpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgZXJyb3JzIGFuZCB1cGRhdGUgc3RhdHVzXHJcbiAgICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgICBzZXRDYW1lcmFTdGF0dXMoJ2luaXRpYWxpemluZycpO1xyXG4gICAgICBsb2dEZWJ1ZygnU3RhcnRpbmcgY2FtZXJhIGluaXRpYWxpemF0aW9uIHByb2Nlc3MnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIERvdWJsZSBjaGVjayBBUEkgc3VwcG9ydFxyXG4gICAgICBpZiAoIWNoZWNrQ2FtZXJhU3VwcG9ydCgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTYWZhcmkvaU9TIHNwZWNpZmljIGZpeGVzXHJcbiAgICAgIGNvbnN0IGJyb3dzZXIgPSBkZXRlY3RCcm93c2VyKCk7XHJcbiAgICAgIGNvbnN0IGlzaU9TID0gYnJvd3Nlci5vcyA9PT0gJ2lPUyc7XHJcbiAgICAgIGNvbnN0IGlzU2FmYXJpID0gYnJvd3Nlci5uYW1lID09PSAnU2FmYXJpJztcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCBhcHByb3ByaWF0ZSBjb25zdHJhaW50cyBiYXNlZCBvbiBkZXZpY2UvYnJvd3NlclxyXG4gICAgICBjb25zdCBjcmVhdGVDb25zdHJhaW50cyA9IChkZXZpY2VJZD86IHN0cmluZywgcXVhbGl0eTogJ2hpZ2gnfCdtZWRpdW0nfCdsb3cnfCdtaW5pbWFsJyA9ICdoaWdoJykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0geyBhdWRpbzogZmFsc2UsIHZpZGVvOiB7fSB9O1xyXG4gICAgICAgIGNvbnN0IHZpZGVvQ29uc3RyYWludHM6IGFueSA9IHt9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBkZXZpY2UgSUQgaWYgcHJvdmlkZWRcclxuICAgICAgICBpZiAoZGV2aWNlSWQpIHtcclxuICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMuZGV2aWNlSWQgPSB7IGV4YWN0OiBkZXZpY2VJZCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgZmFjaW5nTW9kZSB0byAnZW52aXJvbm1lbnQnIGZvciBtb2JpbGUgZGV2aWNlcyBhcyBmYWxsYmFja1xyXG4gICAgICAgIGlmICghZGV2aWNlSWQgJiYgYnJvd3Nlci5tb2JpbGUpIHtcclxuICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMuZmFjaW5nTW9kZSA9IHsgaWRlYWw6ICdlbnZpcm9ubWVudCcgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHJlc29sdXRpb24gYmFzZWQgb24gcXVhbGl0eVxyXG4gICAgICAgIHN3aXRjaCAocXVhbGl0eSkge1xyXG4gICAgICAgICAgY2FzZSAnaGlnaCc6XHJcbiAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMud2lkdGggPSB7IGlkZWFsOiAxMjgwIH07XHJcbiAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMuaGVpZ2h0ID0geyBpZGVhbDogNzIwIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSAnbWVkaXVtJzpcclxuICAgICAgICAgICAgdmlkZW9Db25zdHJhaW50cy53aWR0aCA9IHsgaWRlYWw6IDY0MCB9O1xyXG4gICAgICAgICAgICB2aWRlb0NvbnN0cmFpbnRzLmhlaWdodCA9IHsgaWRlYWw6IDQ4MCB9O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgJ2xvdyc6XHJcbiAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMud2lkdGggPSB7IGlkZWFsOiAzMjAgfTtcclxuICAgICAgICAgICAgdmlkZW9Db25zdHJhaW50cy5oZWlnaHQgPSB7IGlkZWFsOiAyNDAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdtaW5pbWFsJzpcclxuICAgICAgICAgICAgLy8gSnVzdCB1c2UgZGVmYXVsdHNcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gdmlkZW9Db25zdHJhaW50cztcclxuICAgICAgICByZXR1cm4gY29uc3RyYWludHM7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBQcm9ncmVzc2l2ZSBmYWxsYmFjayBzdHJhdGVneVxyXG4gICAgICBjb25zdCB0cnlHZXRTdHJlYW0gPSBhc3luYyAoKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xyXG4gICAgICAgIGNvbnN0IGF0dGVtcHRzID0gW1xyXG4gICAgICAgICAgLy8gMS4gVHJ5IHdpdGggc2VsZWN0ZWQgY2FtZXJhIGF0IGhpZ2ggcXVhbGl0eVxyXG4gICAgICAgICAgeyBkZXNjOiAnc2VsZWN0ZWQgY2FtZXJhIChoaWdoIHF1YWxpdHkpJywgZm46IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RlZENhbWVyYSkgdGhyb3cgbmV3IEVycm9yKCdObyBjYW1lcmEgc2VsZWN0ZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNyZWF0ZUNvbnN0cmFpbnRzKHNlbGVjdGVkQ2FtZXJhLCAnaGlnaCcpKTtcclxuICAgICAgICAgIH19LFxyXG4gICAgICAgICAgLy8gMi4gVHJ5IHdpdGggc2VsZWN0ZWQgY2FtZXJhIGF0IG1lZGl1bSBxdWFsaXR5XHJcbiAgICAgICAgICB7IGRlc2M6ICdzZWxlY3RlZCBjYW1lcmEgKG1lZGl1bSBxdWFsaXR5KScsIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0ZWRDYW1lcmEpIHRocm93IG5ldyBFcnJvcignTm8gY2FtZXJhIHNlbGVjdGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjcmVhdGVDb25zdHJhaW50cyhzZWxlY3RlZENhbWVyYSwgJ21lZGl1bScpKTtcclxuICAgICAgICAgIH19LFxyXG4gICAgICAgICAgLy8gMy4gVHJ5IHdpdGggZW52aXJvbm1lbnQgZmFjaW5nIGNhbWVyYVxyXG4gICAgICAgICAgeyBkZXNjOiAnZW52aXJvbm1lbnQgZmFjaW5nIGNhbWVyYScsIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgdmlkZW86IHsgZmFjaW5nTW9kZTogJ2Vudmlyb25tZW50JyB9LFxyXG4gICAgICAgICAgICAgIGF1ZGlvOiBmYWxzZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH19LFxyXG4gICAgICAgICAgLy8gNC4gVHJ5IHdpdGggYW55IGNhbWVyYVxyXG4gICAgICAgICAgeyBkZXNjOiAnYW55IGNhbWVyYScsIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiB0cnVlLCBhdWRpbzogZmFsc2UgfSk7XHJcbiAgICAgICAgICB9fSxcclxuICAgICAgICAgIC8vIDUuIFNhZmFyaS9pT1Mgc3BlY2lmaWMgYXR0ZW1wdFxyXG4gICAgICAgICAgeyBkZXNjOiAnaU9TL1NhZmFyaSBzcGVjaWZpYycsIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIFNhZmFyaSBhbmQgaU9TXHJcbiAgICAgICAgICAgIGlmIChpc2lPUyB8fCBpc1NhZmFyaSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgICB2aWRlbzoge1xyXG4gICAgICAgICAgICAgICAgICBmYWNpbmdNb2RlOiAnZW52aXJvbm1lbnQnLFxyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogeyBpZGVhbDogMzIwIH0sXHJcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogeyBpZGVhbDogMjQwIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhdWRpbzogZmFsc2VcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBTYWZhcmkvaU9TJyk7XHJcbiAgICAgICAgICB9fSxcclxuICAgICAgICAgIC8vIDYuIExhc3QgcmVzb3J0IC0gbWluaW1hbCBjb25zdHJhaW50c1xyXG4gICAgICAgICAgeyBkZXNjOiAnbWluaW1hbCBjb25zdHJhaW50cycsIGZuOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IHZpZGVvOiB7fSwgYXVkaW86IGZhbHNlIH0pO1xyXG4gICAgICAgICAgfX1cclxuICAgICAgICBdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRyeSBlYWNoIG1ldGhvZCBpbiBzZXF1ZW5jZSB1bnRpbCBvbmUgd29ya3NcclxuICAgICAgICBmb3IgKGNvbnN0IGF0dGVtcHQgb2YgYXR0ZW1wdHMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvZ0RlYnVnKGBUcnlpbmcgY2FtZXJhIHdpdGggJHthdHRlbXB0LmRlc2N9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGF0dGVtcHQuZm4oKTtcclxuICAgICAgICAgICAgbG9nRGVidWcoYFN1Y2Nlc3NmdWxseSBnb3QgY2FtZXJhIHN0cmVhbSB3aXRoICR7YXR0ZW1wdC5kZXNjfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RyZWFtO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGxvZ0RlYnVnKGBGYWlsZWQgd2l0aCAke2F0dGVtcHQuZGVzY306YCwgZXJyKTtcclxuICAgICAgICAgICAgLy8gQ29udGludWUgdG8gbmV4dCBhdHRlbXB0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIHdlIGdldCBoZXJlLCBhbGwgYXR0ZW1wdHMgZmFpbGVkXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgY2FtZXJhIGluaXRpYWxpemF0aW9uIGF0dGVtcHRzIGZhaWxlZCcpO1xyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy8gU3RhcnQgdGhlIGNhbWVyYSB3aXRoIG91ciBwcm9ncmVzc2l2ZSBzdHJhdGVneVxyXG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0cnlHZXRTdHJlYW0oKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEhhbmRsZSB0aGUgc3VjY2Vzc2Z1bCBzdHJlYW1cclxuICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcclxuICAgICAgICBzdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTYWZhcmkvaU9TIHNvbWV0aW1lcyBuZWVkcyBhIHNwZWNpZmljIHBsYXlzaW5saW5lIGF0dHJpYnV0ZVxyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICd0cnVlJyk7XHJcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICd0cnVlJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGZvciB2aWRlbyBlbGVtZW50XHJcbiAgICAgICAgdmlkZW9SZWYuY3VycmVudC5vbmxvYWRlZG1ldGFkYXRhID0gKCkgPT4ge1xyXG4gICAgICAgICAgbG9nRGVidWcoJ1ZpZGVvIG1ldGFkYXRhIGxvYWRlZCcpO1xyXG4gICAgICAgICAgaWYgKHZpZGVvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wbGF5KClcclxuICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnQ2FtZXJhIHZpZGVvIHBsYXliYWNrIHN0YXJ0ZWQnKTtcclxuICAgICAgICAgICAgICAgIHNldENhbWVyYVN0YXR1cygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRJc0NhbWVyYVJlYWR5KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBHZXQgdmlkZW8gdHJhY2sgaW5mbyBmb3IgZGVidWdnaW5nXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2aWRlb1RyYWNrcyA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZpZGVvVHJhY2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrc1swXS5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICBsb2dEZWJ1ZygnVmlkZW8gdHJhY2sgc2V0dGluZ3M6Jywgc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlQ2FtZXJhRXJyb3IoZSwgJ3ZpZGVvLnBsYXknKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQub25lcnJvciA9IChlKSA9PiB7XHJcbiAgICAgICAgICBoYW5kbGVDYW1lcmFFcnJvcihlLCAndmlkZW8uZXJyb3InKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gZWxlbWVudCBub3QgYXZhaWxhYmxlJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBoYW5kbGVDYW1lcmFFcnJvcihlcnIsICdzdGFydENhbWVyYScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFRyYWNrIHdoZW4gY2FtZXJhIGlzIHJlYWR5IHRvIHVzZVxyXG4gIFxyXG4gIC8vIEVmZmVjdCBmb3IgY2FtZXJhIHNldHVwIGFuZCBjbGVhbnVwXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEluaXRpYWxpemF0aW9uIGxvZ2ljXHJcbiAgICBpZiAoc2VsZWN0ZWRDYW1lcmEpIHtcclxuICAgICAgc3RhcnRDYW1lcmEoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgLy8gQ2xlYW4gdXAgYmFyY29kZSBzY2FubmVyXHJcbiAgICAgIGlmIChiYXJjb2RlU2Nhbm5lckludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKGJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgICAgYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ2xlYW4gdXAgY2FtZXJhIHN0cmVhbVxyXG4gICAgICBpZiAoc3RyZWFtUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjb25zdCB0cmFja3MgPSBzdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKTtcclxuICAgICAgICB0cmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW1lcmEgdHJhY2sgc3RvcHBlZCcpO1xyXG4gICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0cmVhbVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ2xlYW4gdXAgYmFyY29kZSByZWFkZXJcclxuICAgICAgaWYgKGJhcmNvZGVSZWFkZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBiYXJjb2RlUmVhZGVyUmVmLmN1cnJlbnQucmVzZXQoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgcmVzZXR0aW5nIGJhcmNvZGUgcmVhZGVyOicsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtzZWxlY3RlZENhbWVyYV0pO1xyXG5cclxuICAvLyBJbml0aWFsaXplIGN1c3RvbSBiYXJjb2RlIHNjYW5uZXJcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0N1c3RvbSBiYXJjb2RlIHNjYW5uZXIgaW5pdGlhbGl6ZWQnKTtcclxuICAgIGNvbnNvbGUubG9nKCdOYXRpdmUgYmFyY29kZSBzdXBwb3J0OicsIGJhcmNvZGVTY2FubmVyLmlzTmF0aXZlU3VwcG9ydGVkKCkpO1xyXG4gICAgY29uc29sZS5sb2coJ1N1cHBvcnRlZCBmb3JtYXRzOicsIGJhcmNvZGVTY2FubmVyLmdldFN1cHBvcnRlZEZvcm1hdHMoKSk7XHJcbiAgICBcclxuICAgIC8vIE5vIGNsZWFudXAgbmVlZGVkIGFzIG91ciBzY2FubmVyIGlzIHN0YXRlbGVzc1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0JhcmNvZGUgc2Nhbm5lciBjbGVhbnVwJyk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gQ3VzdG9tIGJhcmNvZGUgc2Nhbm5lciB3aXRoIGltcHJvdmVkIHJlbGlhYmlsaXR5XHJcbiAgY29uc3Qgc3RhcnRCYXJjb2RlU2Nhbm5lciA9ICgpID0+IHtcclxuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgc2Nhbm5lciBpbnN0YW5jZXNcclxuICAgIGlmIChiYXJjb2RlU2Nhbm5lckludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0JhcmNvZGUgc2Nhbm5lciBhbHJlYWR5IHJ1bm5pbmcsIG5vdCBzdGFydGluZyBhZ2FpbicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFzdHJlYW1SZWYuY3VycmVudCkge1xyXG4gICAgICBzZXRFcnJvcignQ2FtZXJhIG5vdCBpbml0aWFsaXplZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmFyY29kZVNjYW5uZXJBY3RpdmUodHJ1ZSk7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBjdXN0b20gYmFyY29kZSBzY2FubmVyIHdpdGggMTAwbXMgaW50ZXJ2YWwuLi4nKTtcclxuICAgIGNvbnNvbGUubG9nKCdOYXRpdmUgYmFyY29kZSBzdXBwb3J0OicsIGJhcmNvZGVTY2FubmVyLmlzTmF0aXZlU3VwcG9ydGVkKCkpO1xyXG5cclxuICAgIC8vIFVzZSBvdXIgY3VzdG9tIHNjYW5uZXIgd2l0aCBib3RoIHZpZGVvIGFuZCBjYW52YXMgbWV0aG9kc1xyXG4gICAgYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50ID0gd2luZG93LnNldEludGVydmFsKGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIXN0cmVhbVJlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB2aWRlbyBpcyByZWFkeSBhbmQgcGxheWluZ1xyXG4gICAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50LnJlYWR5U3RhdGUgPCAyIHx8IHZpZGVvUmVmLmN1cnJlbnQucGF1c2VkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHZpZGVvID0gdmlkZW9SZWYuY3VycmVudDtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcclxuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWUgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFjb250ZXh0KSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIFNldCBjYW52YXMgc2l6ZSB0byBtYXRjaCB2aWRlb1xyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIERyYXcgY3VycmVudCB2aWRlbyBmcmFtZSB0byBjYW52YXNcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYmFyY29kZSA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIFRyeSBjYW52YXMtYmFzZWQgc2Nhbm5pbmcgZmlyc3RcclxuICAgICAgICAgIGJhcmNvZGUgPSBhd2FpdCBiYXJjb2RlU2Nhbm5lci5zY2FuRnJvbUNhbnZhcyhjYW52YXMpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBJZiBjYW52YXMgc2Nhbm5pbmcgZmFpbHMsIHRyeSB2aWRlby1iYXNlZCBzY2FubmluZ1xyXG4gICAgICAgICAgaWYgKCFiYXJjb2RlKSB7XHJcbiAgICAgICAgICAgIGJhcmNvZGUgPSBhd2FpdCBiYXJjb2RlU2Nhbm5lci5zY2FuRnJvbVZpZGVvKHZpZGVvKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChzY2FuRXJyb3IpIHtcclxuICAgICAgICAgIC8vIE9ubHkgbG9nIHNpZ25pZmljYW50IGVycm9yc1xyXG4gICAgICAgICAgaWYgKHNjYW5FcnJvciAmJiBzY2FuRXJyb3IubWVzc2FnZSAmJiBcclxuICAgICAgICAgICAgICAoc2NhbkVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2lzIG5vdCBhIGZ1bmN0aW9uJykgfHwgXHJcbiAgICAgICAgICAgICAgIHNjYW5FcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdUeXBlRXJyb3InKSB8fFxyXG4gICAgICAgICAgICAgICBzY2FuRXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQ2Fubm90IHJlYWQnKSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQmFyY29kZSBzY2FuIGVycm9yOicsIHNjYW5FcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFNpbGVudGx5IGlnbm9yZSBleHBlY3RlZCAnbm90IGZvdW5kJyBiYXJjb2RlIGVycm9yc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUHJvY2VzcyBzdWNjZXNzZnVsIGJhcmNvZGUgZGV0ZWN0aW9uXHJcbiAgICAgICAgaWYgKGJhcmNvZGUgJiYgYmFyY29kZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEJhcmNvZGUgZGV0ZWN0ZWQ6JywgYmFyY29kZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChiYXJjb2RlICE9PSBsYXN0QmFyY29kZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBOZXcgYmFyY29kZSBmb3VuZDonLCBiYXJjb2RlKTtcclxuICAgICAgICAgICAgc2V0TGFzdEJhcmNvZGUoYmFyY29kZSk7XHJcbiAgICAgICAgICAgIHN0b3BCYXJjb2RlU2Nhbm5lcigpO1xyXG4gICAgICAgICAgICBhd2FpdCBsb29rdXBCYXJjb2RlUHJvZHVjdChiYXJjb2RlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIC8vIE9ubHkgbG9nIHVuZXhwZWN0ZWQgZXJyb3JzXHJcbiAgICAgICAgY29uc29sZS53YXJuKCdCYXJjb2RlIHNjYW5uaW5nIGVycm9yOicsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH0sIDUwMCk7IC8vIFNjYW4gMiB0aW1lcyBwZXIgc2Vjb25kIGZvciBiZXR0ZXIgWlhpbmcgcmVsaWFiaWxpdHlcclxuICB9O1xyXG4gIFxyXG4gIC8vIFN0b3AgYmFyY29kZSBzY2FubmVyXHJcbiAgY29uc3Qgc3RvcEJhcmNvZGVTY2FubmVyID0gKCkgPT4ge1xyXG4gICAgaWYgKGJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICBjbGVhckludGVydmFsKGJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIGJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdCYXJjb2RlIHNjYW5uZXIgc3RvcHBlZCcpO1xyXG4gICAgfVxyXG4gICAgc2V0QmFyY29kZVNjYW5uZXJBY3RpdmUoZmFsc2UpO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gQ2FwdHVyZSBpbWFnZSBmcm9tIGNhbWVyYSBmZWVkXHJcbiAgY29uc3QgY2FwdHVyZUltYWdlID0gKCkgPT4ge1xyXG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCkge1xyXG4gICAgICBzZXRFcnJvcignQ2FtZXJhIG5vdCBpbml0aWFsaXplZCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdmlkZW8gPSB2aWRlb1JlZi5jdXJyZW50O1xyXG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAgIHNldEVycm9yKCdDb3VsZCBub3QgZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2FwdHVyaW5nIGltYWdlIGZyb20gY2FtZXJhLi4uJyk7XHJcbiAgICAgIC8vIEVuc3VyZSB2aWRlbyBpcyBwbGF5aW5nIGFuZCBoYXMgZGltZW5zaW9uc1xyXG4gICAgICBpZiAodmlkZW8udmlkZW9XaWR0aCA9PT0gMCB8fCB2aWRlby52aWRlb0hlaWdodCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIGhhcyB6ZXJvIGRpbWVuc2lvbnMuIFZpZGVvIHN0YXRlOicsIHtcclxuICAgICAgICAgIHJlYWR5U3RhdGU6IHZpZGVvLnJlYWR5U3RhdGUsXHJcbiAgICAgICAgICB2aWRlb1dpZHRoOiB2aWRlby52aWRlb1dpZHRoLFxyXG4gICAgICAgICAgdmlkZW9IZWlnaHQ6IHZpZGVvLnZpZGVvSGVpZ2h0LFxyXG4gICAgICAgICAgcGF1c2VkOiB2aWRlby5wYXVzZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRFcnJvcignQ2FtZXJhIHN0cmVhbSBub3QgcmVhZHkuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZXQgY2FudmFzIGRpbWVuc2lvbnMgdG8gbWF0Y2ggdmlkZW9cclxuICAgICAgY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xyXG4gICAgICBjb25zb2xlLmxvZyhgQ2FudmFzIHNldCB0byAke2NhbnZhcy53aWR0aH14JHtjYW52YXMuaGVpZ2h0fWApO1xyXG5cclxuICAgICAgLy8gRHJhdyBjdXJyZW50IHZpZGVvIGZyYW1lIHRvIGNhbnZhc1xyXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZSh2aWRlbywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgY29uc29sZS5sb2coJ1ZpZGVvIGZyYW1lIGRyYXduIHRvIGNhbnZhcycpO1xyXG5cclxuICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gYmxvYiB3aXRoIGVycm9yIGhhbmRsaW5nXHJcbiAgICAgIGNhbnZhcy50b0Jsb2IoXHJcbiAgICAgICAgYXN5bmMgKGJsb2IpID0+IHtcclxuICAgICAgICAgIGlmICghYmxvYikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGJsb2IgZnJvbSBjYW52YXMnKTtcclxuICAgICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBjYXB0dXJlIGltYWdlOiBDb3VsZCBub3QgY3JlYXRlIGltYWdlIGRhdGEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY29uc29sZS5sb2coYENhcHR1cmVkIGltYWdlIGJsb2Igc2l6ZTogJHtibG9iLnNpemV9IGJ5dGVzYCk7XHJcblxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgRmlsZSBvYmplY3QgZnJvbSB0aGUgYmxvYlxyXG4gICAgICAgICAgICBjb25zdCBpbWFnZUZpbGUgPSBuZXcgRmlsZShbYmxvYl0sICdmb29kLmpwZycsIHsgdHlwZTogJ2ltYWdlL2pwZWcnIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIFVSTCBmb3IgcHJldmlldyBpbWFnZVxyXG4gICAgICAgICAgICBjb25zdCBwcmV2aWV3VXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgc2V0Q2FwdHVyZWRJbWFnZVVybChwcmV2aWV3VXJsKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1ByZXZpZXcgaW1hZ2UgVVJMIGNyZWF0ZWQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFuYWx5emUgdGhlIGltYWdlXHJcbiAgICAgICAgICAgIGF3YWl0IGFuYWx5emVJbWFnZUZvb2QoaW1hZ2VGaWxlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGNhcHR1cmVkIGltYWdlOicsIGVycik7XHJcbiAgICAgICAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gcHJvY2VzcyBjYXB0dXJlZCBpbWFnZTogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ2ltYWdlL2pwZWcnLFxyXG4gICAgICAgIDAuOTUgLy8gOTUlIHF1YWxpdHkgSlBFR1xyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBpbWFnZSBjYXB0dXJlOicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gY2FwdHVyZSBpbWFnZTogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIExvb2sgdXAgcHJvZHVjdCBieSBiYXJjb2RlXHJcbiAgY29uc3QgbG9va3VwQmFyY29kZVByb2R1Y3QgPSBhc3luYyAoYmFyY29kZTogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIHNldFNjYW5Tb3VyY2UoJ0JhcmNvZGUnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYExvb2tpbmcgdXAgcHJvZHVjdCBmb3IgYmFyY29kZTogJHtiYXJjb2RlfWApO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2FsbCB0aGUgYmFyY29kZSBsb29rdXAgQVBJXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvc3Bvb25hY3VsYXIvcHJvZHVjdC8ke2JhcmNvZGV9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgZXJyb3IgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6ICR7ZXJyb3JUZXh0fWApO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmxvZygnQmFyY29kZSBwcm9kdWN0IGRhdGE6JywgZGF0YSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBIYW5kbGUgU3Bvb25hY3VsYXIgQVBJIHJlc3BvbnNlIHN0cnVjdHVyZSBkaXJlY3RseVxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnRpdGxlKSB7XHJcbiAgICAgICAgLy8gRXh0cmFjdCBudXRyaXRpb24gdmFsdWVzIGZyb20gU3Bvb25hY3VsYXIgcHJvZHVjdCBkYXRhXHJcbiAgICAgICAgY29uc3QgbnV0cml0aW9uID0gZGF0YS5udXRyaXRpb24gfHwge307XHJcbiAgICAgICAgY29uc3QgbnV0cmllbnRzID0gbnV0cml0aW9uLm51dHJpZW50cyB8fCBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZmluZCBudXRyaWVudCBieSBuYW1lXHJcbiAgICAgICAgY29uc3QgZmluZE51dHJpZW50ID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbnV0cmllbnQgPSBudXRyaWVudHMuZmluZCgobjogYW55KSA9PiBcclxuICAgICAgICAgICAgbi5uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnV0cmllbnQ/LmFtb3VudCB8fCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRm9ybWF0IHRoZSBudXRyaXRpb24gZGF0YSBmcm9tIHRoZSBTcG9vbmFjdWxhciBwcm9kdWN0XHJcbiAgICAgICAgY29uc3QgbnV0cml0aW9uSW5mbzogTnV0cml0aW9uRGF0YSA9IHtcclxuICAgICAgICAgIGZvb2ROYW1lOiBkYXRhLnRpdGxlIHx8ICdVbmtub3duIFByb2R1Y3QnLFxyXG4gICAgICAgICAgaGVhbHRoU2NvcmU6IGRhdGEuc3Bvb25hY3VsYXJTY29yZSB8fCA1MCxcclxuICAgICAgICAgIGNhbG9yaWVzOiBmaW5kTnV0cmllbnQoJ2NhbG9yaWVzJyksXHJcbiAgICAgICAgICBwcm90ZWluOiBmaW5kTnV0cmllbnQoJ3Byb3RlaW4nKSxcclxuICAgICAgICAgIGNhcmJzOiBmaW5kTnV0cmllbnQoJ2NhcmJvaHlkcmF0ZXMnKSxcclxuICAgICAgICAgIGZhdDogZmluZE51dHJpZW50KCdmYXQnKSxcclxuICAgICAgICAgIGZpYmVyOiBmaW5kTnV0cmllbnQoJ2ZpYmVyJyksXHJcbiAgICAgICAgICBzdWdhcjogZmluZE51dHJpZW50KCdzdWdhcicpLFxyXG4gICAgICAgICAgc29kaXVtOiBmaW5kTnV0cmllbnQoJ3NvZGl1bScpLFxyXG4gICAgICAgICAgaGVhbHRoQmVuZWZpdHM6IFsnUHJvZHVjdCBpbmZvcm1hdGlvbiBmcm9tIGJhcmNvZGUgc2NhbiddIGFzIHN0cmluZ1tdLCAgXHJcbiAgICAgICAgICBhbGxlcmdlbnM6IGRhdGEuYWlzbGU/LnNwbGl0KCcsJykgfHwgW10gYXMgc3RyaW5nW10sIFxyXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBgVGhpcyBwcm9kdWN0IGlzIGF2YWlsYWJsZSBpbiB0aGUgJHtkYXRhLmFpc2xlIHx8ICdzdG9yZSd9LiBDaGVjayBudXRyaXRpb25hbCB2YWx1ZXMgZm9yIGRpZXRhcnkgcGxhbm5pbmcuYCxcclxuICAgICAgICAgIGluZmxhbW1hdG9yeUluZGV4OiAwLFxyXG4gICAgICAgICAgZ2x5Y2VtaWNMb2FkOiAwLFxyXG4gICAgICAgICAgbnV0cmllbnREZW5zaXR5OiBNYXRoLnJvdW5kKChkYXRhLnNwb29uYWN1bGFyU2NvcmUgfHwgNTApIC8gMTApLFxyXG4gICAgICAgICAgZ3Jva0FuYWx5c2lzOiAnJyxcclxuICAgICAgICAgIGVuaGFuY2VkQnk6ICdCYXJjb2RlIFNjYW4gdmlhIFNwb29uYWN1bGFyIEFQSScsXHJcbiAgICAgICAgICBkZXRlY3RlZEZvb2RJdGVtczogW3sgbmFtZTogZGF0YS50aXRsZSB8fCAnVW5rbm93biBQcm9kdWN0JywgY29uZmlkZW5jZTogMS4wLCBwb3J0aW9uOiAnc2VydmluZycgfV1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBudXRyaXRpb24gZGF0YVxyXG4gICAgICAgIHNldE51dHJpdGlvbkRhdGEobnV0cml0aW9uSW5mbyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBQcm9kdWN0IGRhdGEgcHJvY2Vzc2VkIHN1Y2Nlc3NmdWxseTonLCBudXRyaXRpb25JbmZvLmZvb2ROYW1lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2R1Y3Qgbm90IGZvdW5kIG9yIGludmFsaWQgYmFyY29kZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb29raW5nIHVwIGJhcmNvZGU6JywgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoYEZhaWxlZCB0byBsb29rdXAgYmFyY29kZSBwcm9kdWN0OiAke2Vyci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBGdW5jdGlvbiB0byBhbmFseXplIGZvb2QgaW1hZ2VzIHdpdGggcmVhbCBBUElzIG9ubHkgKG5vIGZhbGxiYWNrcylcclxuICBjb25zdCBhbmFseXplSW1hZ2VGb29kID0gYXN5bmMgKGltYWdlRmlsZTogRmlsZSkgPT4ge1xyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBzZXRTY2FuU291cmNlKCdBSSBWaXNpb24nKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgaW1hZ2UgYW5hbHlzaXMuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIENvbnZlcnQgZmlsZSB0byBiYXNlNjRcclxuICAgICAgY29uc3QgYmFzZTY0SW1hZ2UgPSBhd2FpdCBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgYmFzZTY0U3RyaW5nID0gcmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XHJcbiAgICAgICAgICByZXNvbHZlKGJhc2U2NFN0cmluZyk7IC8vIEtlZXAgdGhlIGNvbXBsZXRlIGRhdGEgVVJMIGZvcm1hdCB3aXRoIHByZWZpeFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1hZ2VGaWxlKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnSW1hZ2UgY29udmVydGVkIHRvIGJhc2U2NCwgc2VuZGluZyB0byBBSSBhbmFseXNpcyBlbmRwb2ludCcpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2FsbCB0aGUgQUkgYW5hbHlzaXMgZW5kcG9pbnQgLSBubyBmYWxsYmFja3MsIG9ubHkgcmVhbCBBUElcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9haS1hbmFseXplLWZvb2QnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaW1hZ2U6IGJhc2U2NEltYWdlIH0pLFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQVBJIGFuYWx5c2lzIGZhaWxlZCB3aXRoIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yICgke3Jlc3BvbnNlLnN0YXR1c30pOiAke2Vycm9yRGF0YX1gKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IHJlY2VpdmVkIEFJIGFuYWx5c2lzIHJlc3VsdDonLCByZXN1bHQpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0LmZvb2RJdGVtcyB8fCByZXN1bHQuZm9vZEl0ZW1zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBUEkgcmVzcG9uc2U6IG1pc3NpbmcgZm9vZCBpdGVtIGRhdGEnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gR2V0IHRoZSBwcmltYXJ5IGZvb2QgKGZpcnN0IGRldGVjdGVkIGl0ZW0pXHJcbiAgICAgIGNvbnN0IHByaW1hcnlGb29kID0gcmVzdWx0LmZvb2RJdGVtc1swXTtcclxuICAgICAgXHJcbiAgICAgIC8vIFN0b3JlIGFsbCBkZXRlY3RlZCBmb29kc1xyXG4gICAgICBzZXREZXRlY3RlZEZvb2RzKHJlc3VsdC5mb29kSXRlbXMpO1xyXG4gICAgICBcclxuICAgICAgLy8gRXh0cmFjdCBudXRyaXRpb25hbCBkYXRhIGZyb20gdGhlIEFQSSByZXNwb25zZVxyXG4gICAgICBjb25zdCBudXRyaXRpb25hbERhdGEgPSByZXN1bHQubnV0cml0aW9uYWxEYXRhIHx8IHt9O1xyXG4gICAgICBcclxuICAgICAgLy8gUGVyZm9ybSBkZXRhaWxlZCBudXRyaXRpb25hbCBhbmFseXNpcyB3aXRoIGhlYWx0aCBmb2N1c1xyXG4gICAgICBjb25zdCBkZXRhaWxlZEFsbGVyZ2VucyA9IGVuaGFuY2VBbGxlcmdlbkRldGVjdGlvbihudXRyaXRpb25hbERhdGEuYWxsZXJnZW5zIHx8IFtdLCBwcmltYXJ5Rm9vZC5uYW1lKTtcclxuICAgICAgY29uc3QgZGV0YWlsZWRIZWFsdGhCZW5lZml0cyA9IGVuaGFuY2VIZWFsdGhCZW5lZml0cyhudXRyaXRpb25hbERhdGEpO1xyXG4gICAgICBjb25zdCBoZWFsdGhSZWNvbW1lbmRhdGlvbnMgPSBnZW5lcmF0ZUhlYWx0aFJlY29tbWVuZGF0aW9ucyhudXRyaXRpb25hbERhdGEsIGRldGFpbGVkQWxsZXJnZW5zKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG51dHJpdGlvbkluZm86IE51dHJpdGlvbkRhdGEgPSB7XHJcbiAgICAgICAgZm9vZE5hbWU6IHByaW1hcnlGb29kLm5hbWUgfHwgJ1Vua25vd24gRm9vZCcsXHJcbiAgICAgICAgaGVhbHRoU2NvcmU6IGNhbGN1bGF0ZUhlYWx0aFNjb3JlKG51dHJpdGlvbmFsRGF0YSksXHJcbiAgICAgICAgLy8gVXNlIEFQSSBkYXRhIG9ubHkgLSBubyBmYWxsYmFja3MgdG8gc2ltdWxhdGVkIGRhdGFcclxuICAgICAgICBjYWxvcmllczogbnV0cml0aW9uYWxEYXRhLm51dHJpdGlvbmFsRXN0aW1hdGU/LmNhbG9yaWVzIHx8IDAsXHJcbiAgICAgICAgcHJvdGVpbjogTnVtYmVyKFN0cmluZyhudXRyaXRpb25hbERhdGEubnV0cml0aW9uYWxFc3RpbWF0ZT8ucHJvdGVpbiB8fCAnMCcpLm1hdGNoKC9cXGQrLyk/LlswXSB8fCAwKSxcclxuICAgICAgICBjYXJiczogTnVtYmVyKFN0cmluZyhudXRyaXRpb25hbERhdGEubnV0cml0aW9uYWxFc3RpbWF0ZT8uY2FyYnMgfHwgJzAnKS5tYXRjaCgvXFxkKy8pPy5bMF0gfHwgMCksXHJcbiAgICAgICAgZmF0OiBOdW1iZXIoU3RyaW5nKG51dHJpdGlvbmFsRGF0YS5udXRyaXRpb25hbEVzdGltYXRlPy5mYXQgfHwgJzAnKS5tYXRjaCgvXFxkKy8pPy5bMF0gfHwgMCksXHJcbiAgICAgICAgZmliZXI6IE51bWJlcihudXRyaXRpb25hbERhdGEubnV0cml0aW9uYWxFc3RpbWF0ZT8uZmliZXIgfHwgMCksXHJcbiAgICAgICAgc3VnYXI6IE51bWJlcihudXRyaXRpb25hbERhdGEubnV0cml0aW9uYWxFc3RpbWF0ZT8uc3VnYXIgfHwgMCksXHJcbiAgICAgICAgc29kaXVtOiBOdW1iZXIobnV0cml0aW9uYWxEYXRhLm51dHJpdGlvbmFsRXN0aW1hdGU/LnNvZGl1bSB8fCAwKSxcclxuICAgICAgICBoZWFsdGhCZW5lZml0czogZGV0YWlsZWRIZWFsdGhCZW5lZml0cyxcclxuICAgICAgICBhbGxlcmdlbnM6IGRldGFpbGVkQWxsZXJnZW5zLFxyXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogaGVhbHRoUmVjb21tZW5kYXRpb25zLFxyXG4gICAgICAgIC8vIEFkZGl0aW9uYWwgaGVhbHRoLWZvY3VzZWQgZGF0YVxyXG4gICAgICAgIGluZmxhbW1hdG9yeUluZGV4OiBjYWxjdWxhdGVJbmZsYW1tYXRvcnlJbmRleChudXRyaXRpb25hbERhdGEpLFxyXG4gICAgICAgIGdseWNlbWljTG9hZDogY2FsY3VsYXRlR2x5Y2VtaWNMb2FkKG51dHJpdGlvbmFsRGF0YSksXHJcbiAgICAgICAgbnV0cmllbnREZW5zaXR5OiBjYWxjdWxhdGVOdXRyaWVudERlbnNpdHkobnV0cml0aW9uYWxEYXRhKSxcclxuICAgICAgICAvLyBHcm9rIEFJIGFuYWx5c2lzIGRhdGFcclxuICAgICAgICBncm9rQW5hbHlzaXM6IHJlc3VsdC5kZXRhaWxlZEFuYWx5c2lzIHx8ICcnLFxyXG4gICAgICAgIGVuaGFuY2VkQnk6IG51dHJpdGlvbmFsRGF0YS5lbmhhbmNlZEJ5IHx8ICdHcm9rICYgTW9kYWwgQVBJcycsXHJcbiAgICAgICAgZGV0ZWN0ZWRGb29kSXRlbXM6IHJlc3VsdC5mb29kSXRlbXMgfHwgW3ByaW1hcnlGb29kXVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgc2V0TnV0cml0aW9uRGF0YShudXRyaXRpb25JbmZvKTtcclxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFuYWx5emluZyBmb29kOicsIGVycik7XHJcbiAgICAgIHNldEVycm9yKGBGYWlsZWQgdG8gYW5hbHl6ZSBmb29kOiAke2Vyci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgZW5oYW5jZWQgZm9vZCBhbmFseXNpc1xyXG4gIGNvbnN0IGdldENvbW1vbkFsbGVyZ2Vuc0ZvckZvb2QgPSAoZm9vZE5hbWU6IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcclxuICAgIC8vIEFJLXBvd2VyZWQgYWxsZXJnZW4gZGV0ZWN0aW9uIGJhc2VkIG9uIGZvb2QgY2hhcmFjdGVyaXN0aWNzXHJcbiAgICBjb25zdCBmb29kTG93ZXIgPSBmb29kTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBhbGxlcmdlbk1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xyXG4gICAgICAnZGFpcnknOiBbJ21pbGsnLCAnY2hlZXNlJywgJ3lvZ3VydCcsICdjcmVhbScsICdidXR0ZXInLCAnaWNlIGNyZWFtJ10sXHJcbiAgICAgICdnbHV0ZW4nOiBbJ2JyZWFkJywgJ3Bhc3RhJywgJ3doZWF0JywgJ2NlcmVhbCcsICdjYWtlJywgJ2Nvb2tpZSddLFxyXG4gICAgICAnbnV0cyc6IFsnYWxtb25kJywgJ3BlY2FuJywgJ3dhbG51dCcsICdjYXNoZXcnLCAncGlzdGFjaGlvJywgJ2hhemVsbnV0JywgJ3BlYW51dCddLFxyXG4gICAgICAnc2hlbGxmaXNoJzogWydzaHJpbXAnLCAnY3JhYicsICdsb2JzdGVyJywgJ3NjYWxsb3AnLCAnY2xhbScsICdveXN0ZXInXSxcclxuICAgICAgJ3NveSc6IFsndG9mdScsICdzb3lhJywgJ2VkYW1hbWUnLCAnbWlzbycsICd0ZW1wZWgnXSxcclxuICAgICAgJ2VnZyc6IFsnZWdnJywgJ29tZWxldHRlJywgJ21heW9ubmFpc2UnXSxcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGRldGVjdGVkQWxsZXJnZW5zOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBTY2FuIGZvciBlYWNoIGFsbGVyZ2VuIGNhdGVnb3J5IGJhc2VkIG9uIGZvb2QgbmFtZVxyXG4gICAgT2JqZWN0LmVudHJpZXMoYWxsZXJnZW5NYXApLmZvckVhY2goKFthbGxlcmdlbiwga2V5d29yZHNdKSA9PiB7XHJcbiAgICAgIGlmIChrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gZm9vZExvd2VyLmluY2x1ZGVzKGtleXdvcmQpKSkge1xyXG4gICAgICAgIGRldGVjdGVkQWxsZXJnZW5zLnB1c2goYWxsZXJnZW4pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIGRldGVjdGVkQWxsZXJnZW5zO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgYW5hbHl6ZUhlYWx0aEltcGFjdHMgPSAoZm9vZDogYW55KTogc3RyaW5nW10gPT4ge1xyXG4gICAgY29uc3QgaW1wYWN0czogc3RyaW5nW10gPSBbXTtcclxuICAgIGNvbnN0IGZvb2RMb3dlciA9IGZvb2QubmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIFxyXG4gICAgLy8gQUktcG93ZXJlZCBoZWFsdGggaW1wYWN0IGFuYWx5c2lzXHJcbiAgICBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCd2ZWdldGFibGUnKSB8fCBcclxuICAgICAgICBmb29kTG93ZXIuaW5jbHVkZXMoJ2dyZWVucycpIHx8IFxyXG4gICAgICAgIGZvb2RMb3dlci5pbmNsdWRlcygnYnJvY2NvbGknKSB8fFxyXG4gICAgICAgIGZvb2RMb3dlci5pbmNsdWRlcygnc3BpbmFjaCcpKSB7XHJcbiAgICAgIGltcGFjdHMucHVzaCgnSGlnaCBpbiBhbnRpb3hpZGFudHMnKTtcclxuICAgICAgaW1wYWN0cy5wdXNoKCdTdXBwb3J0cyBpbW11bmUgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygnYmVycnknKSB8fCBcclxuICAgICAgICBmb29kTG93ZXIuaW5jbHVkZXMoJ2ZydWl0JykgfHwgXHJcbiAgICAgICAgZm9vZExvd2VyLmluY2x1ZGVzKCdhcHBsZScpKSB7XHJcbiAgICAgIGltcGFjdHMucHVzaCgnQ29udGFpbnMgbmF0dXJhbCBwaHl0b2NoZW1pY2FscycpO1xyXG4gICAgICBpbXBhY3RzLnB1c2goJ1Byb3ZpZGVzIGRpZXRhcnkgZmliZXInKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQWRkIGRlZmF1bHQgaGVhbHRoIGltcGFjdHMgaWYgbm9uZSBkZXRlY3RlZFxyXG4gICAgaWYgKGltcGFjdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGltcGFjdHMucHVzaCgnQ29udGFpbnMgdmFyaW91cyBudXRyaWVudHMnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGltcGFjdHM7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBlbmhhbmNlQWxsZXJnZW5EZXRlY3Rpb24gPSAoYmFzZUFsbGVyZ2Vuczogc3RyaW5nW10sIGZvb2ROYW1lOiBzdHJpbmcpOiBzdHJpbmdbXSA9PiB7XHJcbiAgICAvLyBTdGFydCB3aXRoIGFueSBhbGxlcmdlbnMgZGV0ZWN0ZWQgYnkgdGhlIEFQSVxyXG4gICAgY29uc3QgZW5oYW5jZWRBbGxlcmdlbnMgPSBbLi4uYmFzZUFsbGVyZ2Vuc107XHJcbiAgICBcclxuICAgIC8vIEFkZCBhbnkgYWRkaXRpb25hbCBhbGxlcmdlbnMgZGV0ZWN0ZWQgdGhyb3VnaCBvdXIgbG9jYWwgYW5hbHlzaXNcclxuICAgIGNvbnN0IGFkZGl0aW9uYWxBbGxlcmdlbnMgPSBnZXRDb21tb25BbGxlcmdlbnNGb3JGb29kKGZvb2ROYW1lKTtcclxuICAgIFxyXG4gICAgLy8gQ29tYmluZSBhbmQgZGVkdXBsaWNhdGVcclxuICAgIGFkZGl0aW9uYWxBbGxlcmdlbnMuZm9yRWFjaChhbGxlcmdlbiA9PiB7XHJcbiAgICAgIGlmICghZW5oYW5jZWRBbGxlcmdlbnMuaW5jbHVkZXMoYWxsZXJnZW4pKSB7XHJcbiAgICAgICAgZW5oYW5jZWRBbGxlcmdlbnMucHVzaChhbGxlcmdlbik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZW5oYW5jZWRBbGxlcmdlbnM7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBlbmhhbmNlSGVhbHRoQmVuZWZpdHMgPSAoZm9vZDogYW55KTogc3RyaW5nW10gPT4ge1xyXG4gICAgY29uc3QgYmVuZWZpdHM6IHN0cmluZ1tdID0gW107XHJcbiAgICBjb25zdCBmb29kTG93ZXIgPSBmb29kLm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBcclxuICAgIC8vIERldGVybWluZSBoZWFsdGggYmVuZWZpdHMgYmFzZWQgb24gZm9vZCB0eXBlXHJcbiAgICBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCd2ZWdldGFibGUnKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ2dyZWVucycpKSB7XHJcbiAgICAgIGJlbmVmaXRzLnB1c2goJ1JpY2ggaW4gdml0YW1pbnMgYW5kIG1pbmVyYWxzJyk7XHJcbiAgICAgIGJlbmVmaXRzLnB1c2goJ0hpZ2ggaW4gZGlldGFyeSBmaWJlcicpO1xyXG4gICAgICBiZW5lZml0cy5wdXNoKCdMb3cgY2Fsb3JpZSBkZW5zaXR5Jyk7XHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygnZnJ1aXQnKSkge1xyXG4gICAgICBiZW5lZml0cy5wdXNoKCdDb250YWlucyBuYXR1cmFsIGFudGlveGlkYW50cycpO1xyXG4gICAgICBiZW5lZml0cy5wdXNoKCdTb3VyY2Ugb2Ygdml0YW1pbiBDJyk7XHJcbiAgICAgIGJlbmVmaXRzLnB1c2goJ1Byb3ZpZGVzIG5hdHVyYWwgc3VnYXJzIGZvciBlbmVyZ3knKTtcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdmaXNoJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdzYWxtb24nKSkge1xyXG4gICAgICBiZW5lZml0cy5wdXNoKCdIaWdoIGluIG9tZWdhLTMgZmF0dHkgYWNpZHMnKTtcclxuICAgICAgYmVuZWZpdHMucHVzaCgnQ29tcGxldGUgcHJvdGVpbiBzb3VyY2UnKTtcclxuICAgICAgYmVuZWZpdHMucHVzaCgnQ29udGFpbnMgdml0YW1pbiBEJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiZW5lZml0cy5wdXNoKCdDb250YWlucyBlc3NlbnRpYWwgbnV0cmllbnRzJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBiZW5lZml0cztcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGdlbmVyYXRlSGVhbHRoUmVjb21tZW5kYXRpb25zID0gKGZvb2Q6IGFueSwgYWxsZXJnZW5zOiBzdHJpbmdbXSk6IHN0cmluZyA9PiB7XHJcbiAgICBsZXQgcmVjb21tZW5kYXRpb24gPSAnJztcclxuICAgIGNvbnN0IGZvb2RMb3dlciA9IGZvb2QubmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIFxyXG4gICAgLy8gR2VuZXJhdGUgcGVyc29uYWxpemVkIHJlY29tbWVuZGF0aW9uc1xyXG4gICAgaWYgKGFsbGVyZ2Vucy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJlY29tbWVuZGF0aW9uICs9IGBDYXV0aW9uOiBUaGlzIGZvb2QgbWF5IGNvbnRhaW4gJHthbGxlcmdlbnMuam9pbignLCAnKX0uIGA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEZvb2Qtc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zXHJcbiAgICBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCd2ZWdldGFibGUnKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ2ZydWl0JykpIHtcclxuICAgICAgcmVjb21tZW5kYXRpb24gKz0gJ0V4Y2VsbGVudCBjaG9pY2UgZm9yIGRhaWx5IG51dHJpdGlvbiEgUmljaCBpbiB2aXRhbWlucyBhbmQgZmliZXIuJztcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdwcm90ZWluJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdtZWF0JykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdmaXNoJykpIHtcclxuICAgICAgcmVjb21tZW5kYXRpb24gKz0gJ0dvb2QgcHJvdGVpbiBzb3VyY2UuIFRyeSB0byBiYWxhbmNlIHdpdGggdmVnZXRhYmxlcyBhbmQgd2hvbGUgZ3JhaW5zLic7XHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygnZGVzc2VydCcpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnY2FrZScpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnc3dlZXQnKSkge1xyXG4gICAgICByZWNvbW1lbmRhdGlvbiArPSAnRW5qb3kgaW4gbW9kZXJhdGlvbi4gSGlnaCBpbiBzdWdhciBhbmQgY2Fsb3JpZXMuJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlY29tbWVuZGF0aW9uICs9ICdDb25zaWRlciB0aGUgbnV0cml0aW9uYWwgcHJvZmlsZSBhbmQgaG93IGl0IGZpdHMgaW50byB5b3VyIG92ZXJhbGwgZGlldC4nO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb247XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBjYWxjdWxhdGVIZWFsdGhTY29yZSA9IChmb29kOiBhbnkpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IHNjb3JlID0gNTA7IC8vIERlZmF1bHQgc3RhcnRpbmcgc2NvcmVcclxuICAgIGNvbnN0IGZvb2RMb3dlciA9IGZvb2QubmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIFxyXG4gICAgLy8gQWRqdXN0IHNjb3JlIGJhc2VkIG9uIGZvb2QgdHlwZVxyXG4gICAgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygndmVnZXRhYmxlJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdncmVlbnMnKSkge1xyXG4gICAgICBzY29yZSArPSAzMDtcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdmcnVpdCcpKSB7XHJcbiAgICAgIHNjb3JlICs9IDI1O1xyXG4gICAgfSBlbHNlIGlmIChmb29kTG93ZXIuaW5jbHVkZXMoJ3dob2xlIGdyYWluJykpIHtcclxuICAgICAgc2NvcmUgKz0gMjA7XHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygncHJvY2Vzc2VkJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdqdW5rJykpIHtcclxuICAgICAgc2NvcmUgLT0gMjA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENhcCB0aGUgc2NvcmUgYmV0d2VlbiAwIGFuZCAxMDBcclxuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIHNjb3JlKSk7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBjYWxjdWxhdGVJbmZsYW1tYXRvcnlJbmRleCA9IChmb29kOiBhbnkpOiBudW1iZXIgPT4ge1xyXG4gICAgbGV0IGluZGV4ID0gMDsgLy8gTmV1dHJhbCBzdGFydGluZyBwb2ludFxyXG4gICAgY29uc3QgZm9vZExvd2VyID0gZm9vZC5uYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgXHJcbiAgICAvLyBDYWxjdWxhdGUgaW5mbGFtbWF0b3J5IGluZGV4ICgtNSB0byA1LCBuZWdhdGl2ZSBpcyBhbnRpLWluZmxhbW1hdG9yeSlcclxuICAgIGlmIChmb29kTG93ZXIuaW5jbHVkZXMoJ3ZlZ2V0YWJsZScpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnYmVycnknKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ29tZWdhJykpIHtcclxuICAgICAgaW5kZXggLT0gMzsgLy8gQW50aS1pbmZsYW1tYXRvcnlcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdzdWdhcicpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygncHJvY2Vzc2VkJykpIHtcclxuICAgICAgaW5kZXggKz0gMzsgLy8gUHJvLWluZmxhbW1hdG9yeVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBjYWxjdWxhdGVHbHljZW1pY0xvYWQgPSAoZm9vZDogYW55KTogbnVtYmVyID0+IHtcclxuICAgIGxldCBiYXNlR0wgPSAxMDsgLy8gRGVmYXVsdCBtZWRpdW0gZ2x5Y2VtaWMgbG9hZFxyXG4gICAgY29uc3QgZm9vZExvd2VyID0gZm9vZC5uYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgXHJcbiAgICAvLyBBZGp1c3QgYmFzZWQgb24gY2FyYiBjb250ZW50IGFuZCB0eXBlXHJcbiAgICBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdzdWdhcicpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnY2FuZHknKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ3doaXRlIGJyZWFkJykpIHtcclxuICAgICAgYmFzZUdMID0gMjU7IC8vIEhpZ2ggR0xcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCd3aG9sZSBncmFpbicpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnYmVhbicpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnbGVudGlsJykpIHtcclxuICAgICAgYmFzZUdMID0gNTsgLy8gTG93IEdMXHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygndmVnZXRhYmxlJykgJiYgIWZvb2RMb3dlci5pbmNsdWRlcygncG90YXRvJykpIHtcclxuICAgICAgYmFzZUdMID0gMzsgLy8gVmVyeSBsb3cgR0xcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdtZWF0JykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdmaXNoJykpIHtcclxuICAgICAgYmFzZUdMID0gMDsgLy8gTm8gY2FyYnNcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRnVydGhlciBhZGp1c3QgYmFzZWQgb24gcG9ydGlvbi9zZXJ2aW5nIHNpemUgaWYgYXZhaWxhYmxlXHJcbiAgICBjb25zdCBwb3J0aW9uID0gZm9vZC5wb3J0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgaWYgKHBvcnRpb24uaW5jbHVkZXMoJ2xhcmdlJykgfHwgcG9ydGlvbi5pbmNsdWRlcygnYmlnJykpIHtcclxuICAgICAgYmFzZUdMICo9IDEuNTtcclxuICAgIH0gZWxzZSBpZiAocG9ydGlvbi5pbmNsdWRlcygnc21hbGwnKSkge1xyXG4gICAgICBiYXNlR0wgKj0gMC43O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZChiYXNlR0wpO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgY2FsY3VsYXRlTnV0cmllbnREZW5zaXR5ID0gKGZvb2Q6IGFueSk6IG51bWJlciA9PiB7XHJcbiAgICBsZXQgZGVuc2l0eSA9IDU7IC8vIERlZmF1bHQgbWVkaXVtIG51dHJpZW50IGRlbnNpdHkgKDEtMTAgc2NhbGUpXHJcbiAgICBjb25zdCBmb29kTG93ZXIgPSBmb29kLm5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBcclxuICAgIC8vIENhbGN1bGF0ZSBudXRyaWVudCBkZW5zaXR5IHNjb3JlIGJhc2VkIG9uIGZvb2QgdHlwZVxyXG4gICAgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygndmVnZXRhYmxlJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdncmVlbnMnKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ3NwaW5hY2gnKSkge1xyXG4gICAgICBkZW5zaXR5ID0gOTsgLy8gVmVyeSBoaWdoIG51dHJpZW50IGRlbnNpdHlcclxuICAgIH0gZWxzZSBpZiAoZm9vZExvd2VyLmluY2x1ZGVzKCdmcnVpdCcpIHx8IGZvb2RMb3dlci5pbmNsdWRlcygnYmVycnknKSkge1xyXG4gICAgICBkZW5zaXR5ID0gODsgLy8gSGlnaCBudXRyaWVudCBkZW5zaXR5XHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygnd2hvbGUgZ3JhaW4nKSB8fCBmb29kTG93ZXIuaW5jbHVkZXMoJ2JlYW4nKSkge1xyXG4gICAgICBkZW5zaXR5ID0gNzsgLy8gR29vZCBudXRyaWVudCBkZW5zaXR5XHJcbiAgICB9IGVsc2UgaWYgKGZvb2RMb3dlci5pbmNsdWRlcygncHJvY2Vzc2VkJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdqdW5rJykgfHwgZm9vZExvd2VyLmluY2x1ZGVzKCdjYW5keScpKSB7XHJcbiAgICAgIGRlbnNpdHkgPSAyOyAvLyBMb3cgbnV0cmllbnQgZGVuc2l0eVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGVuc2l0eTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDYW1lcmFDaGFuZ2UgPSAoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50PikgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRDYW1lcmEoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IHJlc2V0UmVzdWx0cyA9ICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdSZXNldHRpbmcgcmVzdWx0cyBhbmQgcmVpbml0aWFsaXppbmcgY2FtZXJhLi4uJyk7XHJcbiAgICBcclxuICAgIC8vIENsZWFyIHJlc3VsdHMgc3RhdGVcclxuICAgIHNldE51dHJpdGlvbkRhdGEobnVsbCk7XHJcbiAgICBzZXRDYXB0dXJlZEltYWdlVXJsKHVuZGVmaW5lZCk7XHJcbiAgICBzZXREZXRlY3RlZEZvb2RzKFtdKTtcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIFxyXG4gICAgLy8gUmVzZXQgY2FtZXJhIHN0YXR1c1xyXG4gICAgc2V0Q2FtZXJhU3RhdHVzKCdpbml0aWFsaXppbmcnKTtcclxuICAgIHNldElzQ2FtZXJhUmVhZHkoZmFsc2UpO1xyXG4gICAgXHJcbiAgICAvLyBTdG9wIGFueSBhY3RpdmUgYmFyY29kZSBzY2FubmVyXHJcbiAgICBpZiAoYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgICAgYmFyY29kZVNjYW5uZXJJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgIH1cclxuICAgIHNldEJhcmNvZGVTY2FubmVyQWN0aXZlKGZhbHNlKTtcclxuICAgIHNldExhc3RCYXJjb2RlKG51bGwpO1xyXG4gICAgXHJcbiAgICAvLyBSZWluaXRpYWxpemUgY2FtZXJhIGlmIHdlIGhhdmUgYSBzZWxlY3RlZCBjYW1lcmFcclxuICAgIGlmIChzZWxlY3RlZENhbWVyYSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVpbml0aWFsaXppbmcgY2FtZXJhIHdpdGggZGV2aWNlOicsIHNlbGVjdGVkQ2FtZXJhKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSBzdGF0ZSBpcyB1cGRhdGVkXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHN0YXJ0Q2FtZXJhKCk7XHJcbiAgICAgIH0sIDEwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiBubyBjYW1lcmEgc2VsZWN0ZWQsIGZvcmNlIGNhbWVyYSByZWxvYWRcclxuICAgICAgY29uc29sZS5sb2coJ05vIGNhbWVyYSBzZWxlY3RlZCwgZm9yY2luZyBjYW1lcmEgcmVsb2FkLi4uJyk7XHJcbiAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIHRoZSBjYW1lcmEgZW51bWVyYXRpb24gYW5kIHN0YXJ0IHByb2Nlc3MgYWdhaW5cclxuICAgICAgc2V0U2VsZWN0ZWRDYW1lcmEoJycpO1xyXG4gICAgICBzZXRDYW1lcmFTdGF0dXMoJ2luaXRpYWxpemluZycpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGlmIChldmVudC50YXJnZXQuZmlsZXMgJiYgZXZlbnQudGFyZ2V0LmZpbGVzWzBdKSB7XHJcbiAgICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XHJcbiAgICAgIGNvbnN0IHByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICBcclxuICAgICAgc2V0Q2FwdHVyZWRJbWFnZVVybChwcmV2aWV3VXJsKTtcclxuICAgICAgc2V0U2NhblNvdXJjZSgnVXBsb2FkZWQgSW1hZ2UnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEFuYWx5emUgdGhlIHVwbG9hZGVkIGltYWdlXHJcbiAgICAgIGFuYWx5emVJbWFnZUZvb2QoZmlsZSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IGZpbGUgaW5wdXRcclxuICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkge1xyXG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgZ2V0Q29uZmlkZW5jZUNvbG9yID0gKGNvbmZpZGVuY2U6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICBpZiAoY29uZmlkZW5jZSA+IDAuOCkgcmV0dXJuICd0ZXh0LWdyZWVuLTYwMCc7XHJcbiAgICBpZiAoY29uZmlkZW5jZSA+IDAuNSkgcmV0dXJuICd0ZXh0LXllbGxvdy02MDAnO1xyXG4gICAgcmV0dXJuICd0ZXh0LXJlZC02MDAnO1xyXG4gIH07XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibnV0cmlsZW5zLWNvbnRhaW5lclwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjYW5uZXItaGVhZGVyXCI+XHJcbiAgICAgICAgPGgxPk51dHJpTGVucyBGb29kIFNjYW5uZXI8L2gxPlxyXG4gICAgICAgIDxwPlNjYW4gZm9vZCBpdGVtcyB0byBnZXQgZGV0YWlsZWQgbnV0cml0aW9uIGluZm9ybWF0aW9uPC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIHtudXRyaXRpb25EYXRhID8gKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcHR1cmVkLWltYWdlXCI+XHJcbiAgICAgICAgICAgIHtjYXB0dXJlZEltYWdlVXJsICYmIChcclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e2NhcHR1cmVkSW1hZ2VVcmx9IGFsdD1cIkNhcHR1cmVkIGZvb2RcIiBjbGFzc05hbWU9XCJmb29kLWltYWdlXCIgLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2Utc291cmNlXCI+e3NjYW5Tb3VyY2V9PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPFNjYW5SZXN1bHRzIFxyXG4gICAgICAgICAgICBkYXRhPXtudXRyaXRpb25EYXRhfSBcclxuICAgICAgICAgICAgb25SZXNldD17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldE51dHJpdGlvbkRhdGEobnVsbCk7XHJcbiAgICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgICAgICAgICAgc2V0RGV0ZWN0ZWRGb29kcyhbXSk7XHJcbiAgICAgICAgICAgICAgc2V0Q2FwdHVyZWRJbWFnZVVybCh1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9fSBcclxuICAgICAgICAgICAgaW1hZ2VVcmw9e2NhcHR1cmVkSW1hZ2VVcmx9XHJcbiAgICAgICAgICAgIHNjYW5Tb3VyY2U9XCJjYW1lcmFcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAge2RldGVjdGVkRm9vZHMubGVuZ3RoID4gMSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkaXRpb25hbC1mb29kc1wiPlxyXG4gICAgICAgICAgICAgIDxoMz5BbHNvIERldGVjdGVkOjwvaDM+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXRlY3RlZC1mb29kcy1saXN0XCI+XHJcbiAgICAgICAgICAgICAgICB7ZGV0ZWN0ZWRGb29kcy5zbGljZSgxKS5tYXAoKGZvb2QsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZGV0ZWN0ZWQtZm9vZC1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Zvb2QubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtnZXRDb25maWRlbmNlQ29sb3IoZm9vZC5jb25maWRlbmNlKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7TWF0aC5yb3VuZChmb29kLmNvbmZpZGVuY2UgKiAxMDApfSVcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb24tYnV0dG9uc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17cmVzZXRSZXN1bHRzfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxDYW1lcmEgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICBTY2FuIEFub3RoZXIgSXRlbVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvPlxyXG4gICAgICApIDogKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+Q2FtZXJhIEZlZWQ8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxzZWxlY3QgXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZENhbWVyYX0gXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRDYW1lcmEoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWxlY3Qtc3R5bGVkXCJcclxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2NhbWVyYURldmljZXMubGVuZ3RoID09PSAwIHx8IGlzTG9hZGluZ31cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2NhbWVyYURldmljZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5ObyBjYW1lcmFzIGF2YWlsYWJsZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIGNhbWVyYURldmljZXMubWFwKChkZXZpY2UpID0+IChcclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtkZXZpY2UuZGV2aWNlSWR9IHZhbHVlPXtkZXZpY2UuZGV2aWNlSWR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGV2aWNlLmxhYmVsIHx8IGBDYW1lcmEgJHtkZXZpY2UuZGV2aWNlSWQuc3Vic3RyKDAsIDUpfS4uLmB9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInNlbGVjdC1pY29uXCIgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7ZXJyb3IgPyAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxDYW1lcmFPZmYgc2l6ZT17NDh9IGNsYXNzTmFtZT1cImVycm9yLWljb25cIiAvPlxyXG4gICAgICAgICAgICAgICAgPGgzPkNhbWVyYSBFcnJvcjwvaDM+XHJcbiAgICAgICAgICAgICAgICA8cD57ZXJyb3J9PC9wPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmV0cnktYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlLWluaXRpYWxpemUgY2FtZXJhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdHJpZ2dlciB0aGUgdXNlRWZmZWN0IHRvIHJlc3RhcnQgY2FtZXJhXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2FtZXJhID0gc2VsZWN0ZWRDYW1lcmE7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhbWVyYSgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHNldFNlbGVjdGVkQ2FtZXJhKGN1cnJlbnRDYW1lcmEpLCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPFJlZnJlc2hDY3cgc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgICAgIFJldHJ5XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhbWVyYS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDx2aWRlbyBcclxuICAgICAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn0gXHJcbiAgICAgICAgICAgICAgICAgIGF1dG9QbGF5IFxyXG4gICAgICAgICAgICAgICAgICBwbGF5c0lubGluZSBcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FtZXJhLWZlZWRcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IGNsYXNzTmFtZT1cImhpZGRlblwiIC8+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLW92ZXJsYXlcIj5cclxuICAgICAgICAgICAgICAgICAge2JhcmNvZGVTY2FubmVyQWN0aXZlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhcmNvZGUtc2Nhbm5lci1pbmRpY2F0b3JcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2Nhbi1saW5lXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNjYW5uaW5nLXRleHRcIj5TY2FubmluZyBmb3IgYmFyY29kZXMuLi48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FtZXJhLXN0YXR1c1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RhdHVzLWluZGljYXRvclwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPntiYXJjb2RlU2Nhbm5lckFjdGl2ZSA/ICdCYXJjb2RlIFNjYW5uZXIgQWN0aXZlJyA6ICdDYW1lcmEgQWN0aXZlJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgey8qIEhpZGRlbiBmaWxlIGlucHV0ICovfVxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmPXtmaWxlSW5wdXRSZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVVcGxvYWR9XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB7LyogRGlzcGxheSBsYXN0IHNjYW5uZWQgYmFyY29kZSAqL31cclxuICAgICAgICAgICAgICAgICAge2xhc3RCYXJjb2RlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxhc3QtYmFyY29kZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5MYXN0IEJhcmNvZGU6PC9zdHJvbmc+IHtsYXN0QmFyY29kZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICBQb3NpdGlvbiBmb29kIGl0ZW0gaW4gZnJhbWUsIHRhcCBidXR0b24gdG8gc2Nhbiwgb3IgdXBsb2FkIGFuIGltYWdlXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYWRnZSBiYWRnZS1wcmltYXJ5XCI+QUkgRW5oYW5jZWQ8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIEFjdGlvbiBidXR0b25zIGFsd2F5cyBhdCB0aGUgYm90dG9tICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3R0b20tYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJ1dHRvbi1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIHsvKiBCYXJjb2RlIHNjYW5uZXIgdG9nZ2xlIGJ1dHRvbiAqL31cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gJHtiYXJjb2RlU2Nhbm5lckFjdGl2ZSA/ICdidG4tc2Vjb25kYXJ5JyA6ICdidG4tcHJpbWFyeSd9YH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGJhcmNvZGVTY2FubmVyQWN0aXZlID8gc3RvcEJhcmNvZGVTY2FubmVyKCkgOiBzdGFydEJhcmNvZGVTY2FubmVyKCl9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXN0cmVhbVJlZi5jdXJyZW50IHx8IGlzTG9hZGluZ31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8QmFyY29kZSBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgIHtiYXJjb2RlU2Nhbm5lckFjdGl2ZSA/ICdTdG9wIFNjYW5uaW5nJyA6ICdTY2FuIEJhcmNvZGUnfVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHsvKiBDYXB0dXJlIGJ1dHRvbiAqL31cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgY2FwdHVyZVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBjYXB0dXJlSW1hZ2UoKX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshc3RyZWFtUmVmLmN1cnJlbnQgfHwgaXNMb2FkaW5nfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxDYW1lcmEgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICBDYXB0dXJlIFBob3RvXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgey8qIFVwbG9hZCBidXR0b24gKi99XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IHVwbG9hZFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPFVwbG9hZCBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgIFVwbG9hZCBJbWFnZVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7aXNMb2FkaW5nICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1zcGlubmVyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtbGcgbWItMVwiPlByb2Nlc3NpbmcgSW1hZ2U8L2gzPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPk91ciBBSSBpcyBhbmFseXppbmcgeW91ciBmb29kIGZvciBkZXRhaWxlZCBudXRyaXRpb25hbCBpbmZvcm1hdGlvbjwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE51dHJpTGVuc1BhZ2U7XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiQ2FtZXJhIiwiQ2FtZXJhT2ZmIiwiUmVmcmVzaENjdyIsIkNoZXZyb25Eb3duIiwiVXBsb2FkIiwiQmFyY29kZSIsIlNjYW5SZXN1bHRzIiwiYmFyY29kZVNjYW5uZXIiLCJkZXRlY3RCcm93c2VyIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJicm93c2VyIiwibmFtZSIsInZlcnNpb24iLCJtb2JpbGUiLCJvcyIsInRlc3QiLCJtYXRjaCIsIk51dHJpTGVuc1BhZ2UiLCJudXRyaXRpb25EYXRhIiwic2V0TnV0cml0aW9uRGF0YSIsImNhcHR1cmVkSW1hZ2VVcmwiLCJzZXRDYXB0dXJlZEltYWdlVXJsIiwidW5kZWZpbmVkIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsImNhbWVyYURldmljZXMiLCJzZXRDYW1lcmFEZXZpY2VzIiwic2VsZWN0ZWRDYW1lcmEiLCJzZXRTZWxlY3RlZENhbWVyYSIsImRldGVjdGVkRm9vZHMiLCJzZXREZXRlY3RlZEZvb2RzIiwic2NhblNvdXJjZSIsInNldFNjYW5Tb3VyY2UiLCJiYXJjb2RlU2Nhbm5lckFjdGl2ZSIsInNldEJhcmNvZGVTY2FubmVyQWN0aXZlIiwibGFzdEJhcmNvZGUiLCJzZXRMYXN0QmFyY29kZSIsImlzQ2FtZXJhUmVhZHkiLCJzZXRJc0NhbWVyYVJlYWR5IiwiZGVidWdNb2RlIiwic2V0RGVidWdNb2RlIiwiZGVidWdJbmZvIiwic2V0RGVidWdJbmZvIiwiYnJvd3NlckluZm8iLCJzZWN1cmVDb250ZXh0Iiwid2luZG93IiwiaXNTZWN1cmVDb250ZXh0IiwiaGFzTWVkaWFEZXZpY2VzIiwibWVkaWFEZXZpY2VzIiwiaGFzRW51bWVyYXRlRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJoYXNHZXRVc2VyTWVkaWEiLCJnZXRVc2VyTWVkaWEiLCJodHRwcyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJlcnJvckxvZyIsImNhbWVyYVN0YXR1cyIsInNldENhbWVyYVN0YXR1cyIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwiZmlsZUlucHV0UmVmIiwic3RyZWFtUmVmIiwiYmFyY29kZVJlYWRlclJlZiIsImJhcmNvZGVTY2FubmVySW50ZXJ2YWxSZWYiLCJsb2dEZWJ1ZyIsIm1lc3NhZ2UiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInByZXYiLCJzbGljZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImhhbmRsZUNhbWVyYUVycm9yIiwiY29udGV4dCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwiU3RyaW5nIiwiY2hlY2tDYW1lcmFTdXBwb3J0Iiwic3RvcENhbWVyYVN0cmVhbSIsImN1cnJlbnQiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwic3JjT2JqZWN0IiwiZ2V0Q2FtZXJhcyIsImNhbWVyYVBlcm1pc3Npb24iLCJob3N0bmFtZSIsInBlcm1pc3Npb25zIiwicXVlcnkiLCJwZXJtaXNzaW9uU3RhdHVzIiwic3RhdGUiLCJvbmNoYW5nZSIsInN0YXJ0Q2FtZXJhIiwicGVybUVycm9yIiwiZGV2aWNlcyIsImNhbWVyYXMiLCJmaWx0ZXIiLCJkZXZpY2UiLCJraW5kIiwibGVuZ3RoIiwibWFwIiwiYyIsImxhYmVsIiwic29ydGVkQ2FtZXJhcyIsInNvcnQiLCJhIiwiYiIsImxhYmVsQSIsInRvTG93ZXJDYXNlIiwibGFiZWxCIiwiYUlzVmlydHVhbCIsImluY2x1ZGVzIiwiYklzVmlydHVhbCIsImFJc0JhY2siLCJiSXNCYWNrIiwiYmVzdENhbWVyYSIsImRldmljZUlkIiwic2V0VGltZW91dCIsImVyciIsInN0YXJ0U2Nhbm5lclRpbWVvdXQiLCJzdGFydEJhcmNvZGVTY2FubmVyIiwiY2xlYXJUaW1lb3V0IiwidGhlbiIsIkJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlciIsIkJhcmNvZGVGb3JtYXQiLCJEZWNvZGVIaW50VHlwZSIsImhpbnRzIiwiTWFwIiwic2V0IiwiUE9TU0lCTEVfRk9STUFUUyIsIkVBTl8xMyIsIlVQQ19BIiwiVVBDX0UiLCJFQU5fOCIsIkNPREVfMTI4IiwiQ09ERV8zOSIsIlFSX0NPREUiLCJUUllfSEFSREVSIiwiUFVSRV9CQVJDT0RFIiwicmVhZGVyIiwiZGVsYXlCZXR3ZWVuU2NhbkF0dGVtcHRzIiwiZGVsYXlCZXR3ZWVuU2NhblN1Y2Nlc3MiLCJjYXRjaCIsInJlc2V0IiwiY2xlYXJJbnRlcnZhbCIsImlzaU9TIiwiaXNTYWZhcmkiLCJjcmVhdGVDb25zdHJhaW50cyIsInF1YWxpdHkiLCJjb25zdHJhaW50cyIsImF1ZGlvIiwidmlkZW8iLCJ2aWRlb0NvbnN0cmFpbnRzIiwiZXhhY3QiLCJmYWNpbmdNb2RlIiwiaWRlYWwiLCJ3aWR0aCIsImhlaWdodCIsInRyeUdldFN0cmVhbSIsImF0dGVtcHRzIiwiZGVzYyIsImZuIiwiYXR0ZW1wdCIsInN0cmVhbSIsInNldEF0dHJpYnV0ZSIsIm9ubG9hZGVkbWV0YWRhdGEiLCJwbGF5IiwidmlkZW9UcmFja3MiLCJnZXRWaWRlb1RyYWNrcyIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJlIiwib25lcnJvciIsInRyYWNrcyIsIndhcm4iLCJpc05hdGl2ZVN1cHBvcnRlZCIsImdldFN1cHBvcnRlZEZvcm1hdHMiLCJzZXRJbnRlcnZhbCIsInJlYWR5U3RhdGUiLCJwYXVzZWQiLCJjYW52YXMiLCJnZXRDb250ZXh0Iiwid2lsbFJlYWRGcmVxdWVudGx5IiwidmlkZW9XaWR0aCIsInZpZGVvSGVpZ2h0IiwiZHJhd0ltYWdlIiwiYmFyY29kZSIsInNjYW5Gcm9tQ2FudmFzIiwic2NhbkZyb21WaWRlbyIsInNjYW5FcnJvciIsInN0b3BCYXJjb2RlU2Nhbm5lciIsImxvb2t1cEJhcmNvZGVQcm9kdWN0IiwiY2FwdHVyZUltYWdlIiwidG9CbG9iIiwiYmxvYiIsInNpemUiLCJpbWFnZUZpbGUiLCJGaWxlIiwidHlwZSIsInByZXZpZXdVcmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhbmFseXplSW1hZ2VGb29kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJzdGF0dXMiLCJqc29uIiwidGl0bGUiLCJudXRyaXRpb24iLCJudXRyaWVudHMiLCJmaW5kTnV0cmllbnQiLCJudXRyaWVudCIsImZpbmQiLCJuIiwiYW1vdW50IiwibnV0cml0aW9uSW5mbyIsImZvb2ROYW1lIiwiaGVhbHRoU2NvcmUiLCJzcG9vbmFjdWxhclNjb3JlIiwiY2Fsb3JpZXMiLCJwcm90ZWluIiwiY2FyYnMiLCJmYXQiLCJmaWJlciIsInN1Z2FyIiwic29kaXVtIiwiaGVhbHRoQmVuZWZpdHMiLCJhbGxlcmdlbnMiLCJhaXNsZSIsInNwbGl0IiwicmVjb21tZW5kYXRpb25zIiwiaW5mbGFtbWF0b3J5SW5kZXgiLCJnbHljZW1pY0xvYWQiLCJudXRyaWVudERlbnNpdHkiLCJNYXRoIiwicm91bmQiLCJncm9rQW5hbHlzaXMiLCJlbmhhbmNlZEJ5IiwiZGV0ZWN0ZWRGb29kSXRlbXMiLCJjb25maWRlbmNlIiwicG9ydGlvbiIsIm51dHJpdGlvbmFsRGF0YSIsImJhc2U2NEltYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiYmFzZTY0U3RyaW5nIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaW1hZ2UiLCJlcnJvckRhdGEiLCJzdWNjZXNzIiwiZm9vZEl0ZW1zIiwicHJpbWFyeUZvb2QiLCJkZXRhaWxlZEFsbGVyZ2VucyIsImVuaGFuY2VBbGxlcmdlbkRldGVjdGlvbiIsImRldGFpbGVkSGVhbHRoQmVuZWZpdHMiLCJlbmhhbmNlSGVhbHRoQmVuZWZpdHMiLCJoZWFsdGhSZWNvbW1lbmRhdGlvbnMiLCJnZW5lcmF0ZUhlYWx0aFJlY29tbWVuZGF0aW9ucyIsImNhbGN1bGF0ZUhlYWx0aFNjb3JlIiwibnV0cml0aW9uYWxFc3RpbWF0ZSIsIk51bWJlciIsImNhbGN1bGF0ZUluZmxhbW1hdG9yeUluZGV4IiwiY2FsY3VsYXRlR2x5Y2VtaWNMb2FkIiwiY2FsY3VsYXRlTnV0cmllbnREZW5zaXR5IiwiZGV0YWlsZWRBbmFseXNpcyIsImdldENvbW1vbkFsbGVyZ2Vuc0ZvckZvb2QiLCJmb29kTG93ZXIiLCJhbGxlcmdlbk1hcCIsImRldGVjdGVkQWxsZXJnZW5zIiwiT2JqZWN0IiwiZW50cmllcyIsImFsbGVyZ2VuIiwia2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsInB1c2giLCJhbmFseXplSGVhbHRoSW1wYWN0cyIsImZvb2QiLCJpbXBhY3RzIiwiYmFzZUFsbGVyZ2VucyIsImVuaGFuY2VkQWxsZXJnZW5zIiwiYWRkaXRpb25hbEFsbGVyZ2VucyIsImJlbmVmaXRzIiwicmVjb21tZW5kYXRpb24iLCJqb2luIiwic2NvcmUiLCJtYXgiLCJtaW4iLCJpbmRleCIsImJhc2VHTCIsImRlbnNpdHkiLCJoYW5kbGVDYW1lcmFDaGFuZ2UiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwicmVzZXRSZXN1bHRzIiwiaGFuZGxlRmlsZVVwbG9hZCIsImZpbGVzIiwiZmlsZSIsImdldENvbmZpZGVuY2VDb2xvciIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwicCIsImltZyIsInNyYyIsImFsdCIsIm9uUmVzZXQiLCJpbWFnZVVybCIsImgzIiwic3BhbiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzZWxlY3QiLCJvbkNoYW5nZSIsImRpc2FibGVkIiwib3B0aW9uIiwic3Vic3RyIiwiY3VycmVudENhbWVyYSIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJpbnB1dCIsImFjY2VwdCIsInN0eWxlIiwiZGlzcGxheSIsInN0cm9uZyIsImNsaWNrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/features/NutriLens/NutriLensPage.tsx\n"));

/***/ })

});